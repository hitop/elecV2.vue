(function(t){function e(e){for(var n,r,i=e[0],l=e[1],u=e[2],p=0,d=[];p<i.length;p++)r=i[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,i=1;i<s.length;i++){var l=s[i];0!==a[l]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},a={app:0},o=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1a43":function(t,e,s){"use strict";var n=s("e0e2"),a=s.n(n);a.a},"21aa":function(module,__webpack_exports__,__webpack_require__){"use strict";var D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7618");__webpack_exports__["a"]={name:"elecV2CmdPanel",data:function(){return{history:[],historyind:0,current:"cls",results:[]}},computed:{resultsshow:function(){return this.results.join("<br>")}},methods:{run:function run(e){if(13===e.which){if(""==this.current)return!1;switch(this.results.unshift(">> "+this.current),this.history.push(this.current),this.historyind=this.history.length-1,this.current){case"cls":this.results=[];break;default:var jg;try{jg=eval(this.current)}catch(_unused){jg="不是合法的 js 代码"}"object"==Object(D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["a"])(jg)&&(jg=JSON.stringify(jg)),jg&&this.results.unshift(jg)}this.current=""}else 38===e.which?(this.historyind<0&&(this.historyind=this.history.length-1),this.current=this.history[this.historyind--]):40===e.which&&(this.historyind>this.history.length-1&&(this.historyind=0),this.current=this.history[this.historyind++])}}}},"3a2a":function(t,e,s){"use strict";var n=s("d1ea"),a=s.n(n);a.a},"3c74":function(t,e,s){},4864:function(t,e,s){"use strict";var n=s("491b"),a=s.n(n);a.a},"491b":function(t,e,s){},4935:function(t,e,s){},5174:function(t,e,s){"use strict";var n=s("4935"),a=s.n(n);a.a},"54d5":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),a=s("2f62"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center",style:t.themeclstyle},[s("elecV2Toggle",{on:{"set-toggle":t.setToggle}}),s("keep-alive",[s(t.currentpanel,{tag:"panel"})],1),s("elecV2CmdPanel"),s("div",{attrs:{id:"elecV2Plugin"}})],1)},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settoggle",on:{click:function(e){return t.$emit("set-toggle")}}},[s("span",{staticClass:"cslittlebutton icon-menu"})])},l=[],u={name:"elecV2Toggle"},c=u,p=(s("ae72"),s("2877")),d=Object(p["a"])(c,i,l,!1,null,"4e06175f",null),v=d.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cmd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.current,expression:"current"}],staticClass:"cmd_line",attrs:{placeholder:"cls"},domProps:{value:t.current},on:{keyup:t.run,input:function(e){e.target.composing||(t.current=e.target.value)}}}),s("div",{staticClass:"cmd_results",domProps:{innerHTML:t._s(t.resultsshow)}})])},f=[],h=s("21aa"),g=h["a"],_=(s("d055"),Object(p["a"])(g,m,f,!1,null,null,null)),b=_.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"elecV2Ser"},[s("div",{staticClass:"nav"},[s("ul",{staticClass:"serlists"},[t._l(t.nogroupser,(function(e){return s("li",{key:e,class:["nav_tab",{"nav_tab--actived":t.slcser==e}],on:{click:function(s){return s.target!==s.currentTarget?null:t.showSerInfo(e)}}},[t._v(t._s(t.serlists[e].name)),s("span",{staticClass:"serlists_delete",on:{click:function(s){return s.preventDefault(),t.delSer(e)}}},[t._v("x")])])})),s("li",{staticClass:"nav_tab nav_tab--addser",on:{click:function(e){return t.showSerInfo("addSer")}}},[t._v("+")])],2),t._l(t.groupser,(function(e,n,a){return s("div",{key:n,staticClass:"serlists"},[s("div",[s("span",{staticClass:"serlists_groupinfo serlists_groupname",on:{click:function(e){return e.target!==e.currentTarget?null:t.showSerInfo(n,!0)}}},[t._v(t._s(t.group[n].name))]),s("span",{staticClass:"serlists_groupinfo serlists_gcollapse",on:{click:function(e){return t.collapseSer(a,e)}}},[t._v(">")])]),s("ul",{directives:[{name:"show",rawName:"v-show",value:!t.gcollapse[a],expression:"!gcollapse[index]"}],staticClass:"serlists_grouplist"},t._l(e,(function(e){return s("li",{key:e,class:["nav_tab",{"nav_tab--actived":t.slcser==e}],on:{click:function(s){return s.target!==s.currentTarget?null:t.showSerInfo(e)}}},[t._v(t._s(t.serlists[e].name)),s("span",{staticClass:"serlists_delete",on:{click:function(s){return s.preventDefault(),t.delSer(e)}}},[t._v("x")])])})),0)])}))],2),s("div",{staticClass:"contents"},[s("ul",{attrs:{id:"serInfoList"}},[s("li",{directives:[{name:"show",rawName:"v-show",value:t.addSershow,expression:"addSershow"}]},[s("p",[s("b",{staticClass:"infoname"},[t._v("链接")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addsurl,expression:"addsurl"}],staticClass:"infoinput infoinput_textarea",attrs:{type:"text",name:"adds",placeholder:"vmess://xxx or ss://xxxx or 订阅地址"},domProps:{value:t.addsurl},on:{input:function(e){e.target.composing||(t.addsurl=e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname"},[t._v("别名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addname,expression:"addname"}],staticClass:"infoinput",attrs:{name:"sername",placeholder:"可留空"},domProps:{value:t.addname},on:{input:function(e){e.target.composing||(t.addname=e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname"},[t._v("添加到组")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.addgroup,expression:"addgroup"}],staticClass:"infoinput",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.addgroup=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"none"}},[t._v("不添加到分组")]),t._l(t.group,(function(e,n){return s("option",{key:n,domProps:{value:n}},[t._v(t._s(e.name))])}))],2)]),s("p",{staticClass:"center"},[s("button",{staticClass:"nbutton nbutton-long",on:{click:t.addS}},[t._v("添加")])])]),t.currentgid?s("li",{attrs:{id:t.currentgid+"Info"}},[s("div",{staticClass:"wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("订阅组信息")]),s("h3",{staticClass:"infotitle"},[s("big",{staticClass:"infoname"},[t._v("名字")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.group[t.currentgid].name,expression:"group[currentgid].name"}],staticClass:"infoinput",attrs:{name:"name",type:"text"},domProps:{value:t.group[t.currentgid].name},on:{input:function(e){e.target.composing||t.$set(t.group[t.currentgid],"name",e.target.value)}}})],1),s("p",[s("b",{staticClass:"infoname"},[t._v("链接")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.group[t.currentgid].suburl,expression:"group[currentgid].suburl"}],staticClass:"infoinput infoinput_textarea",attrs:{type:"text",name:"gurl"},domProps:{value:t.group[t.currentgid].suburl},on:{input:function(e){e.target.composing||t.$set(t.group[t.currentgid],"suburl",e.target.value)}}})]),s("p",{staticClass:"flexspace"},[s("button",{staticClass:"nbutton",on:{click:function(e){return t.upGSer("change")}}},[t._v("保存更改")]),s("button",{staticClass:"nbutton",on:{click:function(e){return t.upGSer("update")}}},[t._v("更新订阅")])]),s("p",{staticClass:"fgf"}),s("p",{staticClass:"flexspace"},[s("button",{staticClass:"nbutton nbutton--del",on:{click:function(e){return e.preventDefault(),t.upGSer("delete")}}},[t._v("删除订阅")]),s("button",{staticClass:"nbutton",on:{click:function(e){return t.upGSer("export")}}},[t._v("导出订阅")])])])]):t._e(),t.slcser?s("elecV2SerInfo",{attrs:{slcser:t.slcser}}):t._e()],1)])])},y=[],w=(s("c5f6"),s("7618")),k=(s("ac4d"),s("8a81"),s("28a5"),s("7f7f"),s("4917"),s("ac6a"),s("456d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("h3",[s("big",{staticClass:"sername infoname"},[t._v("名字")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.serjson.name,expression:"serjson.name"}],staticClass:"infoinput infoinput_middle",attrs:{name:"name",type:"text",placeholder:t.serjson.id},domProps:{value:t.serjson.name},on:{input:function(e){e.target.composing||t.$set(t.serjson,"name",e.target.value)}}})],1),s("div",{staticClass:"info wzborder"},[s("p",[s("b",{staticClass:"infoname"},[t._v("地址")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.serjson.address,expression:"serjson.address"}],staticClass:"infoinput infoinput_address",attrs:{name:"address",placeholder:"服务器地址"},domProps:{value:t.serjson.address},on:{input:function(e){e.target.composing||t.$set(t.serjson,"address",e.target.value)}}}),s("span",[t._v(" : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.serjson.port,expression:"serjson.port"}],staticClass:"infoinput infoinput_short",attrs:{name:"port",placeholder:"端口"},domProps:{value:t.serjson.port},on:{input:function(e){e.target.composing||t.$set(t.serjson,"port",e.target.value)}}})]),"vmess"==t.serjson.protocol?s("div",[s("p",[s("b",{staticClass:"infoname"},[t._v("UUID")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.serjson.id,expression:"serjson.id"}],staticClass:"infoinput infoinput_textarea",attrs:{name:"id",placeholder:"合法的 UUID 值"},domProps:{value:t.serjson.id},on:{input:function(e){e.target.composing||t.$set(t.serjson,"id",e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname"},[t._v("加密方式")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.serjson.security,expression:"serjson.security"}],staticClass:"infoinput",attrs:{name:"security"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.serjson,"security",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"auto"}},[t._v("auto")]),s("option",{attrs:{value:"aes-128-gcm"}},[t._v("aes-128-gcm")]),s("option",{attrs:{value:"chacha20-poly1305"}},[t._v("chacha20-poly1305")]),s("option",{attrs:{value:"none"}},[t._v("none")])])]),s("p",[s("b",{staticClass:"infoname"},[t._v("alterId")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.serjson.aid,expression:"serjson.aid"}],staticClass:"infoinput infoinput_two",attrs:{name:"aid",placeholder:"4"},domProps:{value:t.serjson.aid},on:{input:function(e){e.target.composing||t.$set(t.serjson,"aid",e.target.value)}}}),s("b",{staticClass:"infoname"},[t._v("path")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.serjson.path,expression:"serjson.path"}],staticClass:"infoinput infoinput_two",attrs:{name:"path"},domProps:{value:t.serjson.path},on:{input:function(e){e.target.composing||t.$set(t.serjson,"path",e.target.value)}}})])]):s("div",[s("p",[s("b",{staticClass:"infoname"},[t._v("加密方式")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.serjson.method,expression:"serjson.method"}],staticClass:"infoinput",attrs:{name:"method"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.serjson,"method",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"aes-256-cfb"}},[t._v("aes-256-cfb")]),s("option",{attrs:{value:"aes-128-cfb"}},[t._v("aes-128-cfb")]),s("option",{attrs:{value:"chacha20"}},[t._v("chacha20")]),s("option",{attrs:{value:"chacha20-ietf"}},[t._v("chacha20-ietf")]),s("option",{attrs:{value:"aes-256-gcm"}},[t._v("aes-256-gcm")]),s("option",{attrs:{value:"aes-128-gcm"}},[t._v("aes-128-gcm")]),s("option",{attrs:{value:"chacha20-poly1305"}},[t._v("chacha20-poly1305")])])]),s("p",[s("b",{staticClass:"infoname"},[t._v("密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.serjson.password,expression:"serjson.password"}],staticClass:"infoinput",attrs:{name:"password"},domProps:{value:t.serjson.password},on:{input:function(e){e.target.composing||t.$set(t.serjson,"password",e.target.value)}}})])]),s("p",{staticClass:"fgfwithword"},[s("span",{staticClass:"fgfwithword_word"},[t._v("底层传输方式"+t._s(t.serjson.network))])]),"tcp"==t.serjson.network?s("div",{staticClass:"tcpSettings"},[s("p",[s("b",{staticClass:"infoname"},[t._v("type")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.serjson.type,expression:"serjson.type"}],staticClass:"infoinput",attrs:{name:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.serjson,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"none"}},[t._v("none")]),s("option",{attrs:{value:"http"}},[t._v("http")])])])]):"h2"==t.serjson.network||"ws"==t.serjson.network?s("div",{staticClass:"httpSettings"},[s("p",[s("b",{staticClass:"infoname"},[t._v("伪装域名")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.serjson.host,expression:"serjson.host"}],staticClass:"infoinput infoinput_textarea",attrs:{name:"hosts",placeholder:"123.com,exp.com,..."},domProps:{value:t.serjson.host},on:{input:function(e){e.target.composing||t.$set(t.serjson,"host",e.target.value)}}})])]):"quic"==t.serjson.network?s("div",{staticClass:"quicSettings"},[s("p",[s("b",{staticClass:"infoname"},[t._v("security")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.serjson.quicsecurity,expression:"serjson.quicsecurity"}],staticClass:"infoinput",attrs:{name:"quicsecurity"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.serjson,"quicsecurity",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"none"}},[t._v("none")]),s("option",{attrs:{value:"aes-128-gcm"}},[t._v("aes-128-gcm")]),s("option",{attrs:{value:"chacha20-poly1305"}},[t._v("chacha20-poly1305")])])]),s("p",[s("b",{staticClass:"infoname"},[t._v("key")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.serjson.key,expression:"serjson.key"}],staticClass:"infoinput",attrs:{name:"key",placeholder:"加密密钥"},domProps:{value:t.serjson.key},on:{input:function(e){e.target.composing||t.$set(t.serjson,"key",e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname"},[t._v("伪装协议")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.serjson.type,expression:"serjson.type"}],staticClass:"infoinput",attrs:{name:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.serjson,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"none"}},[t._v("none")]),s("option",{attrs:{value:"srtp"}},[t._v("srtp")]),s("option",{attrs:{value:"utp"}},[t._v("utp")]),s("option",{attrs:{value:"wechat-video"}},[t._v("wechat-video")]),s("option",{attrs:{value:"dtls"}},[t._v("dtls")]),s("option",{attrs:{value:"wireguard"}},[t._v("wireguard")])])])]):t._e()]),s("p",{staticClass:"flexspace"},[s("button",{staticClass:"nbutton",on:{click:t.update}},[t._v("更新")]),s("button",{staticClass:"nbutton",on:{click:function(e){return t.serToConfig(t.slcser)}}},[t._v("下载")])]),s("p",{staticClass:"center"},[s("span",{staticClass:"sersurl"},[t._v(t._s(t.serlists[t.slcser].surl))]),s("img",{staticClass:"serqrcode",attrs:{src:t.qrcode}})])])}),x=[];s("a481");function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"config.json",s=new Blob([t]),n=document.createElement("a");n.download=e,n.href=URL.createObjectURL(s),n.click(),URL.revokeObjectURL(n.href)}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=e[Math.floor(52*Math.random())];while(t>1)s+=e[Math.floor(62*Math.random())],t--;return s}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B();if(window.localStorage&&localStorage.locgConf){var e=JSON.parse(localStorage.locgConf);while(e.group[t]||e.serlists[t]||e.subrules[t]||e.theme[t])t=B()}return t}var j=s("4a37"),N=s("27ae"),A={name:"elecV2SerInfo",props:["slcser"],data:function(){return{gConf:this.$store.state.gConf,serlists:this.$store.state.gConf.serlists}},computed:{serjson:function(){return this.slcser?this.evurlToJson(this.serlists[this.slcser].surl):{}},qrcode:function(){return this.slcser?Object(j["getQrBase64"])(this.serlists[this.slcser].surl):""}},methods:{update:function(){var t=("shadowsocks"==this.serjson.protocol?"ss://":"vmess://")+N["Base64"].encodeURI(JSON.stringify(this.serjson));this.serlists[this.slcser].surl=t,this.serlists[this.slcser].name=this.serjson.name,this.serlists[this.slcser].address=this.serjson.address,this.$store.commit("saveGconf"),this.$elecV2Alert("成功更新服务器 "+this.serjson.name)},evurlToJson:function(t){var e=t.split(/:\/\/|#|\?/),s=N["Base64"].decode(e[1]);return JSON.parse(s)},toInbobj:function(){var t=[];return t[0]={protocol:"socks",port:this.gConf.inbound.sport||10806},t[1]={protocol:"http",port:this.gConf.inbound.hport||1081},t},serToConfig:function(t){var e={log:{},dns:{},inbounds:[],outbounds:[],routing:{domainStrategy:this.gConf.outBset.domainStrategy||"AsIs",rules:[]}};e.log=this.gConf.log,e.dns.servers=this.gConf.dns,e["inbounds"]=this.toInbobj(),e["outbounds"][this.gConf.outBset.outborder.indexOf("proxy")]=this.surlToOutbobj(this.gConf.serlists[t].surl),e["outbounds"][this.gConf.outBset.outborder.indexOf("proxy")].tag="proxy",e["outbounds"][this.gConf.outBset.outborder.indexOf("direct")]={tag:"direct",protocol:"freedom"},e["outbounds"][this.gConf.outBset.outborder.indexOf("block")]={tag:"block",protocol:"blackhole"},e.routing.rules=this.toConfRules(),S(JSON.stringify(e))},surlToOutbobj:function(t){var e={settings:{}},s=this.evurlToJson(t);if(e.protocol=s.protocol,e.streamSettings={network:s.network,security:this.gConf.outBset.tls,tlsSettings:{allowInsecure:this.gConf.outBset.allowInsecure},sockopt:{tcpFastOpen:this.gConf.outBset.tcpfastopen}},e.mux={enabled:this.gConf.outBset.mux,concurrency:this.gConf.outBset.concurrency},"vmess"==e.protocol)switch(e.settings.vnext=[{address:s.add||s.address,port:Number(s.port),users:[{id:s.id,alterId:"undefined"!=typeof s.aid?Number(s.aid):4,security:s.security||"auto"}]}],s.network){case"tcp":e.streamSettings.tcpSettings={header:{type:s.type||"none"}},"http"==s.type&&(e.streamSettings.tcpSettings.header.request={version:"1.1",method:"GET",path:[s.path||"/"],headers:{Host:[s.host||""],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 10_0_2 like Mac OS X) AppleWebKit/601.1 (KHTML, like Gecko) CriOS/53.0.2785.109 Mobile/14A456 Safari/601.1.46"],"Accept-Encoding":["gzip, deflate"],Connection:["keep-alive"],Pragma:"no-cache"}});break;case"kcp":s.kcp=this.gConf.outBset.kcp||s.kcp||[],e.streamSettings.kcpSettings={mtu:s.kcp[0],tti:s.kcp[1],uplinkCapacity:s.kcp[2],downlinkCapacity:s.kcp[3],congestion:s.kcp[4],readBufferSize:s.kcp[5],writeBufferSize:s.kcp[6],header:{type:s.type||"none"}};break;case"ws":e.streamSettings.wsSettings={path:s.path||"/",headers:{Host:s.host||""}};break;case"h2":e.streamSettings.httpSettings={host:[s.host||""],path:s.path||"/"};break;case"quic":e.streamSettings.quicSettings={security:s.quicsecurity||"none",key:s.key||s.password||"",header:{type:s.type||"none"}};break}else e.settings.servers=[{email:"elecV2@kufl.ml",address:s.address,port:Number(s.port),method:s.method||"aes-256-cfb",password:decodeURIComponent(s.password),level:Number(s.level)||0}];return e},toConfRules:function(){var t={proxy:[],direct:[],block:[]},e={proxy:[],direct:[],block:[]};this.gConf.routing.forEach((function(s){var n=s.replace(/\s/g,"").split(",");"key"==n[0]?t[n[2]].push(n[1]):"domain"==n[0]?t[n[2]].push("domain:"+n[1]):"ip"==n[0]&&e[n[2]].push(n[1])}));var s=[],n=this.gConf.outBset.routorder;return t[n[0]].length>0&&s.push({type:"field",outboundTag:n[0],domain:t[n[0]]}),e[n[0]].length>0&&s.push({type:"field",outboundTag:n[0],ip:e[n[0]]}),t[n[1]].length>0&&s.push({type:"field",outboundTag:n[1],domain:t[n[1]]}),e[n[1]].length>0&&s.push({type:"field",outboundTag:n[1],ip:e[n[1]]}),t[n[2]].length>0&&s.push({type:"field",outboundTag:n[2],domain:t[n[2]]}),e[n[2]].length>0&&s.push({type:"field",outboundTag:n[2],ip:e[n[2]]}),t.block.length>0&&(s[n.indexOf("block")]={type:"field",outboundTag:"block",domain:t.block}),s}}},P=A,O=(s("3a2a"),Object(p["a"])(P,k,x,!1,null,"36f6ee94",null)),V=O.exports,T={name:"elecV2Ser",data:function(){return{serlists:this.$store.state.gConf.serlists,group:this.$store.state.gConf.group,addsurl:"",addname:"",addgroup:"none",addSershow:!0,currentgid:!1,slcser:!1,gcollapse:[]}},props:[],components:{elecV2SerInfo:V},computed:{nogroupser:function(){var t=this;return Object.keys(this.serlists).filter((function(e){return!t.serlists[e].group}))},groupser:function(){var t=this,e={},s=function(s){e[s]=Object.keys(t.serlists).filter((function(e){return t.serlists[e].group==s})),t.gcollapse.push[!0]};for(var n in this.group)s(n);return e}},methods:{showSerInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"addSer"==t?(this.slcser=!1,this.currentgid=!1,this.addSershow=!0):e?(this.slcser=!1,this.addSershow=!1,this.currentgid=t):(this.addSershow=!1,this.currentgid=!1,this.slcser=t)},collapseSer:function(t,e){this.gcollapse[t]?(this.$set(this.gcollapse,t,!1),e.target.style.transform="rotate(-90deg)"):(this.$set(this.gcollapse,t,!0),e.target.style.transform="rotate(90deg)")},addToSerlists:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t.match(/^(vmess:\/\/|ss:\/\/)/i)){var n=$(),a=this.surlToJson(t);a.name=s||a.name||"新服务器",e="none"==e?null:e,t=("shadowsocks"==a.protocol?"ss://":"vmess://")+N["Base64"].encodeURI(JSON.stringify(a)),this.$set(this.serlists,n,{name:a.name,surl:t,group:e,address:a.address}),this.$store.commit("saveGconf"),this.$elecV2Alert("成功添加服务器 "+a.name)}else this.$elecV2Alert("添加的服务器信息有误，请修改后重试")},delSer:function(t){confirm("确定删除？")&&(this.slcser=!1,this.$delete(this.serlists,t),this.$store.commit("saveGconf"))},shuffle:function(t){var e=0,s=0,n=null;for(e=t.length-1;e>0;e-=1)s=Math.floor(Math.random()*(e+1)),n=t[e],t[e]=t[s],t[s]=n;return t},updateGroupSer:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$store.state.gConf.evset.maxSubsers,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.$store.state.gConf.evset.isRandsub;if(this.group[t]&&this.group[t].suburl){for(var a in this.serlists)this.serlists[a].group==t&&delete this.serlists[a];var o=this.group[t].suburl;fetch(o).then((function(t){return t.text()})).then((function(a){var o=N["Base64"].decode(a).split(/\r?\n/),r=1;o.length>s&&n&&(o=e.shuffle(o));var i=!0,l=!1,u=void 0;try{for(var c,p=o[Symbol.iterator]();!(i=(c=p.next()).done);i=!0){var d=c.value;if(/^vmess|^ss/i.test(d)){if(e.addToSerlists(d,t),r>=s)break;r++}}}catch(v){l=!0,u=v}finally{try{i||null==p.return||p.return()}finally{if(l)throw u}}}))}else this.$elecV2Alert("订阅组不存在")},addS:function(){if(""==this.addsurl)return this.$elecV2Alert("输个值呀，兄弟~"),!1;if(/^http/i.test(this.addsurl)){if("none"!=this.addgroup)return this.$elecV2Alert("不支持订阅组添加到组"),!1;var t=$();this.group[t]={},this.group[t].name=this.addname||"新订阅组",this.group[t].suburl=this.addsurl,this.updateGroupSer(t)}else this.addToSerlists(this.addsurl,this.addgroup,this.addname);this.addsurl="",this.addname=""},upGSer:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.currentgid,n=this.group[s].name,a=this.group[s].suburl;if(""==n||/^[0-9]|\.|-|#|:|@|\\|\//.test(n)||""==a)return this.$elecV2Alert("输入有误（请不要使用空值和特殊字符）"),!1;switch(e){case"change":this.group[s].name=n,this.group[s].suburl=a,this.$store.commit("saveGconf"),this.$elecV2Alert("更改完成");break;case"update":this.group[s].name=n,this.group[s].suburl=a,this.updateGroupSer(s),this.$elecV2Alert("更新中，请稍等...");break;case"delete":if(confirm("确定删除此订阅？")){for(var o in this.currentgid=!1,this.$delete(this.groupser,s),this.serlists)this.serlists[o].group==s&&this.$delete(this.serlists,o);this.$delete(this.group,s),this.$store.commit("saveGconf")}break;case"export":S(this.groupser[s].map((function(e){return t.serlists[e].surl})).join("\n"),this.group[s].name);break;default:break}},isJson:function(t){if("object"==Object(w["a"])(t))return!0;try{JSON.parse(t)}catch(e){return!1}return!0},toelecV2Json:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.name=decodeURIComponent(t.name||t.ps||t.remark||"新服务器"),t.address=t.address||t.add||t.host||t.ip||"",t.network=t.net||t.network||"tcp",t.level=t.level||t.userlevel||0,t.path=t.path||t.wsPath||"/",e){var s=["ps","remark","net","alterid","wsPath","userlevel","mtu","tti","uplinkCapacity","downlinkCapacity","congestion","readBufferSize","writeBufferSize","muxConcurrency","mux","allowInsecure"];s.forEach((function(e){return delete t[e]}))}return t},surlToJson:function(t){var e=t.split(/:\/\/|#|\?/),s=N["Base64"].decode(e[1])+(e[2]?"#"+e[2]:""),n={};if("vmess"==e[0]){if(this.isJson(s))n=JSON.parse(s);else{var a=s.split(/:|@|#/);n.address=a[2],n.port=Number(a[3]),n.security=a[0],n.id=a[1],a[4].split("&").forEach((function(t){var e=t.split("=");n[e[0]]=e[1]}))}n.network=n.net||n.network||"tcp",n.tls="undefined"!=typeof n.tls&&("tls"==n.tls||Boolean(Number(n.tls)))?"tls":"none",n.protocol="vmess"}else if(this.isJson(s))n=JSON.parse(s);else{var o=s.split(/:|@|#/);n.name=o[4]||"SS服务器",n.address=o[2],n.port=o[3],n.method=o[0],n.password=decodeURIComponent(o[1]),n.protocol="shadowsocks"}return this.toelecV2Json(n,!0)}}},R=T,I=(s("c11d"),Object(p["a"])(R,C,y,!1,null,"f13573f4",null)),z=I.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"elecV2Set"},[s("div",{staticClass:"nav"},[s("ul",{staticClass:"setting"},t._l(t.setlists,(function(e){return s("li",{key:e.id,class:["nav_tab",{"nav_tab--actived":t.acTab==e.id}],on:{click:function(s){return t.showSet(e.id)}}},[t._v(t._s(e.text))])})),0)]),s("div",{staticClass:"contents"},[s("keep-alive",[s("elecV2Set"+t.acTab,{tag:"setpanel"})],1)],1)])},M=[],G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("本地代理")]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("socks 代理端口")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inbound.sport,expression:"inbound.sport"}],staticClass:"infoinput infoinput_middle",attrs:{name:"sport"},domProps:{value:t.inbound.sport},on:{input:function(e){e.target.composing||t.$set(t.inbound,"sport",e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("HTTP 代理端口")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inbound.hport,expression:"inbound.hport"}],staticClass:"infoinput infoinput_middle",attrs:{name:"hport"},domProps:{value:t.inbound.hport},on:{input:function(e){e.target.composing||t.$set(t.inbound,"hport",e.target.value)}}})]),t._m(0)]),s("div",{staticClass:"wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("DNS")]),s("p",[s("b",{staticClass:"infoname"},[t._v("DNS")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dns,expression:"dns"}],staticClass:"infoinput infoinput_textarea",attrs:{name:"dns",placeholder:"8.8.8.8,1.1.1.1"},domProps:{value:t.dns},on:{input:function(e){e.target.composing||(t.dns=e.target.value)}}})])]),s("div",{staticClass:"wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("log 日志")]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("访问日志保存目录")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.log.access,expression:"log.access"}],staticClass:"infoinput infoinput_middle",attrs:{name:"access",placeholder:"建议留空"},domProps:{value:t.log.access},on:{input:function(e){e.target.composing||t.$set(t.log,"access",e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("错误日志保存目录")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.log.error,expression:"log.error"}],staticClass:"infoinput infoinput_middle",attrs:{name:"error",placeholder:"建议留空"},domProps:{value:t.log.error},on:{input:function(e){e.target.composing||t.$set(t.log,"error",e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("错误日志保存级别")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.log.loglevel,expression:"log.loglevel"}],staticClass:"infoinput infoinput_middle",attrs:{name:"loglevel"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.log,"loglevel",e.target.multiple?s:s[0])}}},[s("option",[t._v("debug")]),s("option",[t._v("info")]),s("option",[t._v("warning")]),s("option",[t._v("error")]),s("option",[t._v("none")])])]),t._m(1)]),s("div",{staticClass:"wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("订阅相关设置")]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("最大获取服务器数")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.evset.maxSubsers,expression:"evset.maxSubsers"}],staticClass:"infoinput infoinput_middle",attrs:{name:"maxSubsers"},domProps:{value:t.evset.maxSubsers},on:{input:function(e){e.target.composing||t.$set(t.evset,"maxSubsers",e.target.value)}}})]),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.evset.isRandsub,expression:"evset.isRandsub"}],staticClass:"infoinput_checkbox",attrs:{type:"checkbox",name:"isRandsub"},domProps:{checked:Array.isArray(t.evset.isRandsub)?t._i(t.evset.isRandsub,null)>-1:t.evset.isRandsub},on:{change:function(e){var s=t.evset.isRandsub,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.evset,"isRandsub",s.concat([o])):r>-1&&t.$set(t.evset,"isRandsub",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.evset,"isRandsub",a)}}}),s("span",[t._v("是否随机")])]),s("p",{staticClass:"tip"},[t._v("* 一些免费订阅链接可能包含上百个服务器，根本用不了那么多，还占位置，选择起来也麻烦。")])]),s("div",{staticClass:"wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("本程序相关")]),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.evset.isLocalStorage,expression:"evset.isLocalStorage"}],staticClass:"infoinput_checkbox",attrs:{name:"isLocalStorage",type:"checkbox"},domProps:{checked:Array.isArray(t.evset.isLocalStorage)?t._i(t.evset.isLocalStorage,null)>-1:t.evset.isLocalStorage},on:{change:function(e){var s=t.evset.isLocalStorage,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.evset,"isLocalStorage",s.concat([o])):r>-1&&t.$set(t.evset,"isLocalStorage",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.evset,"isLocalStorage",a)}}}),s("span",[t._v("启用 localStorage")])]),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.evset.runonStart,expression:"evset.runonStart"}],staticClass:"infoinput_checkbox",attrs:{name:"runonStart",type:"checkbox"},domProps:{checked:Array.isArray(t.evset.runonStart)?t._i(t.evset.runonStart,null)>-1:t.evset.runonStart},on:{change:function(e){var s=t.evset.runonStart,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.evset,"runonStart",s.concat([o])):r>-1&&t.$set(t.evset,"runonStart",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.evset,"runonStart",a)}}}),s("span",[t._v("启动时运行 v2ray")])]),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.evset.isResize,expression:"evset.isResize"}],staticClass:"infoinput_checkbox",attrs:{name:"isResize",type:"checkbox"},domProps:{checked:Array.isArray(t.evset.isResize)?t._i(t.evset.isResize,null)>-1:t.evset.isResize},on:{change:function(e){var s=t.evset.isResize,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.evset,"isResize",s.concat([o])):r>-1&&t.$set(t.evset,"isResize",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.evset,"isResize",a)}}}),s("span",[t._v("收缩已隐藏的透明界面")])]),t._m(2)]),s("p",{staticClass:"center"},[s("button",{staticClass:"nbutton nbutton--long",on:{click:t.saveBset}},[t._v("保存")])])])},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"center"},[s("i",[t._v("*两种代理模式同时启用，请勿设置相同端口")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"center"},[s("i",[t._v("*若目录为空则输出到 stdout"),s("br"),t._v("*如果不是测试开发，不建议保留任何日志（设为 none）")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"tip"},[t._v("* 默认使用 localStorage 保存配置文件。不选择则使用本地文件 elecV2.json 文件保存配置"),s("br"),t._v("* 收缩透明界面：默认点击收缩界面时只是透明隐藏了，程序实际窗口大小并没有变化（启用界面展开时可能会闪烁）")])}],J={name:"elecV2SetBases",data:function(){return{inbound:this.$store.state.gConf.inbound,log:this.$store.state.gConf.log,evset:this.$store.state.gConf.evset,gdns:this.$store.state.gConf.dns}},computed:{dns:{get:function(){return this.gdns.join(",")},set:function(t){this.gdns=t.split(",")}}},methods:{saveBset:function(){return this.inbound.sport==this.inbound.hport?(this.$elecV2Alert("http 和 socks 代理端口冲突"),!1):this.inbound.sport&&this.inbound.hport?(this.inbound.sport=Number(this.inbound.sport),this.inbound.hport=Number(this.inbound.hport),this.evset.maxSubsers=Number(this.evset.maxSubsers)||10,this.$store.commit("saveGconf"),void this.$elecV2Alert("基础设置已保存")):(this.$elecV2Alert("http 和 socks 代理端口输入不完整"),!1)}}},U=J,D=Object(p["a"])(U,G,L,!1,null,null,null),q=D.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"themeSetInfo"}},[s("div",{staticClass:"wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("当前主题")]),s("div",{staticClass:"cthemeclshow"},[s("p",{staticClass:"center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newname,expression:"newname"}],staticClass:"infoinput",domProps:{value:t.newname},on:{input:function(e){e.target.composing||(t.newname=e.target.value)}}})]),s("ul",{staticClass:"cthemeclshow_lists"},t._l(t.minputcs,(function(t){return s("li",{key:t,staticClass:"cthemeclshow_item",style:{background:t}})})),0)]),s("p",{staticClass:"center"},[s("button",{staticClass:"nbutton nbutton--long",on:{click:t.saveCurrencs}},[t._v("设置为默认主题")])])]),s("div",{staticClass:"allcsc wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("可用主题")]),t._l(t.theme,(function(e,n){return s("div",{key:n,staticClass:"allcsc_container",attrs:{id:n}},[s("ul",{staticClass:"allcsc_lists",on:{click:function(e){return t.applyCs(n)}}},t._l(e.colorsc,(function(e){return s("li",{key:e,staticClass:"allcsc_item",style:{background:e}},[t._v(t._s(e))])})),0),s("span",{staticClass:"allcsc_name"},[t._v(t._s(e.name))]),s("span",{staticClass:"allcsc_del",on:{click:function(e){return e.preventDefault(),t.deltheme(n)}}},[t._v("x")])])}))],2),s("div",{staticClass:"manualsc wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("更改主题")]),s("p",{staticClass:"center"},[s("button",{staticClass:"nbutton nbutton--long",on:{click:t.manualSc}},[t._v("随机配色")])]),t._m(0),s("ul",{staticClass:"manualsc_lists"},t._l(t.minputcs,(function(e,n){return s("li",{key:n,staticClass:"manualsc_item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.minputcs[n],expression:"minputcs[ind]"}],staticClass:"infoinput infoinput--manualsc",attrs:{placeholder:e},domProps:{value:t.minputcs[n]},on:{input:function(e){e.target.composing||t.$set(t.minputcs,n,e.target.value)}}})])})),0),s("p",{staticClass:"tip"},[t._v("*颜色依次为：左（主）窗口背景、右窗口背景、下窗口背景及主文字颜色、滚动条及边框等")])])])},H=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"fgfwithword"},[s("span",{staticClass:"fgfwithword_word"},[t._v("手动调整当前配色")])])}],K=(s("6b54"),{name:"elecV2SetTheme",data:function(){return{active:!1,newname:"未命名主题",evset:this.$store.state.gConf.evset,theme:this.$store.state.gConf.theme,minputcs:this.$root.themecl}},created:function(){var t=this.evset.activetheme||Object.keys(this.theme)[0];this.active=t,this.newname=this.theme[t].name},methods:{applyCs:function(t){var e=this;this.active=t,this.newname=this.theme[t].name,this.theme[t].colorsc.map((function(t,s){return e.$set(e.minputcs,s,t)}))},saveCurrencs:function(){var t=this.active;if(t)this.theme[t].name=this.newname;else{t=$();var e={name:this.newname,colorsc:this.minputcs};this.$set(this.theme,t,e)}this.evset.activetheme=t,this.$store.commit("saveGconf"),this.$elecV2Alert("成功设置默认主题："+this.newname)},manualSc:function(){this.active=!1,this.newname="未命名主题",this.$set(this.minputcs,0,this.randChex(125,125,125)),this.$set(this.minputcs,1,this.randChex(125,125,125)),this.$set(this.minputcs,2,this.randChex()),this.$set(this.minputcs,3,this.randChex())},deltheme:function(t){confirm("确定删除此主题？")&&(this.$delete(this.theme,t),this.$store.commit("saveGconf"))},randChex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,n=Math.floor(Math.random()*t).toString(16);n.length<2&&(n="0"+n);var a=Math.floor(Math.random()*e).toString(16);a.length<2&&(a="0"+a);var o=Math.floor(Math.random()*s).toString(16);return o.length<2&&(o="0"+o),"#"+n+a+o}}}),F=K,X=(s("f8f3"),Object(p["a"])(F,W,H,!1,null,"beb42af2",null)),Z=X.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"center"},[s("button",{staticClass:"nbutton nbutton--long",on:{click:t.frulesave}},[t._v(" 保存 - "),s("small",[t._v("当前规则总行 ")]),s("i",[t._v(t._s(t.rules.length-1))])])]),s("div",[s("table",{staticClass:"fruletable",attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),s("tbody",t._l(t.editrules,(function(e,n){return s("tr",{key:n},[s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:e[0],expression:"rule[0]"}],staticClass:"infoinput fruletable_select",on:{change:function(s){var n=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,0,s.target.multiple?n:n[0])}}},[s("option",{attrs:{value:"key"}},[t._v("关键字")]),s("option",{attrs:{value:"domain"}},[t._v("子域名")]),s("option",{attrs:{value:"ip"}},[t._v("IP")])])]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e[1],expression:"rule[1]"}],staticClass:"infoinput fruletable_input",domProps:{value:e[1]},on:{input:function(s){s.target.composing||t.$set(e,1,s.target.value)}}})]),s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:e[2],expression:"rule[2]"}],staticClass:"infoinput fruletable_select",on:{change:function(s){var n=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,2,s.target.multiple?n:n[0])}}},[s("option",{attrs:{value:"proxy"}},[t._v("代理")]),s("option",{attrs:{value:"direct"}},[t._v("直连")]),s("option",{attrs:{value:"block"}},[t._v("阻止")])])]),s("td",{staticClass:"fruletable_action"},[s("span",{staticClass:"fruletable_acbutton",on:{click:function(e){return t.deltbrule(n)}}},[s("span",{staticClass:"cslittlebutton icon-delete"})]),s("span",{staticClass:"fruletable_acbutton",on:{click:function(e){return t.copytbrule(n)}}},[s("span",{staticClass:"cslittlebutton icon-copy"})])])])})),0),s("tfoot",[s("tr",[s("td",{attrs:{colspan:"4"},on:{click:t.addRuleTotable}},[t._v("+")])]),s("tr",[s("td",{attrs:{colspan:"4"}},[s("p",{staticClass:"tip",on:{click:t.addRulesToView}},[t._v("⇓⬇⇓ 添加到路由规则 ⇓⬇⇓")])])])])])]),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.strrules,expression:"strrules"}],staticClass:"infoinput rulescont",domProps:{value:t.strrules},on:{input:function(e){e.target.composing||(t.strrules=e.target.value)}}})]),s("div",{staticClass:"ruleresults"},[s("b",{staticClass:"infoname"},[t._v("测试结果")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ruleresults,expression:"ruleresults"}],staticClass:"infoinput",domProps:{value:t.ruleresults},on:{input:function(e){e.target.composing||(t.ruleresults=e.target.value)}}}),s("span",{staticClass:"ruleresults ruleresults_span"},[t._v(t._s(t.ruleres()))]),s("p",{staticClass:"tip"},[t._v('*测试结果仅供参考，实际结果根据 "进阶设置中的出站及路由优先级" 有所不同。')])])])},Y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"fruletable_th fruletable_fixedwidth"},[t._v("匹配方式")]),s("th",{staticClass:"fruletable_th"},[t._v("匹配内容")]),s("th",{staticClass:"fruletable_th fruletable_fixedwidth"},[t._v("分流规则")]),s("th",{staticClass:"fruletable_th fruletable_fixedwidth"},[t._v("操作")])])])}],tt=(s("3b2b"),{name:"elecV2SetFrule",data:function(){return{rules:this.$store.state.gConf.routing,editrules:[],ruleresults:""}},computed:{strrules:{get:function(){return this.rules.join("\n")},set:function(t){this.rules=t.split(/\n|\r/)}}},methods:{ruleres:function(){for(var t={direct:"直连",block:"阻止",proxy:"代理"},e=0;e<=this.rules.length;e++){var s=this.rules[e].split(",");if(RegExp(s[1]).test(this.ruleresults))return t[s[2]]}},addRuleTotable:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(t=this.clarifyRule(t)),t||(t=["domain","","proxy"]),"number"==typeof e?this.editrules.splice(e+1,0,t):this.editrules.push(t)},deltbrule:function(t){this.editrules.splice(t,1)},copytbrule:function(t){this.addRuleTotable(this.editrules[t].join(","),t)},addRulesToView:function(){var t=[];this.editrules.forEach((function(e){t.push(e.join(","))})),this.strrules=t.join("\n")+"\n"+this.strrules,this.editrules=[]},clarifyRule:function(t){var e=t.toString().replace(/\s/g,"").split(",");if(3!=e.length)return!1;if(/domain/i.test(e[0]))e[0]="domain";else if(/(ip|IP-CIDR)/i.test(e[0]))e[0]="ip";else{if(!/(domain|ip|key)/.test(e[0]))return!1;e[0]=e[0].toLowerCase()}switch(e[0]){case"key":if(/(^domain:|^geoip:)/.test(e[1])){var s=e[1].split(":");e[0]="domain"==s[0]?"domain":"ip","domain"==e[0]&&(e[1]=s[1])}break;case"domain":if(0==/[a-zA-Z0-9]+\.[a-z]+/.test(e[1]))return!1;break;case"ip":if(0==/(ip|[0-9]+\.[0-9]+\.[0-9]+\.[0-9])/i.test(e[1]))return!1;break}if(/Reject/i.test(e[2]))e[2]="block";else if(/REMOTE/i.test(e[2]))e[2]="proxy";else{if(!/(proxy|direct|block)/i.test(e[2]))return!1;e[2]=e[2].toLowerCase()}return e},isrepeat:function(t){return-1!=this.rules.indexOf(t.toString())},push:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s&&(this.rules=[]);var n=0;if("string"==typeof t){var a=this.clarifyRule(t);a&&!this.isrepeat(a)&&(this.rules.push(a.join(",")),n++)}else t.forEach((function(t){var s=e.clarifyRule(t);s&&!e.isrepeat(s)&&(e.rules.push(s.join(",")),n++)}));return n},addGrules:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"proxy",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",n=!0,a=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var l=r.value;this.push("".concat(s,",").concat(l,",").concat(e))}}catch(u){a=!0,o=u}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}},distinct:function(){var t=[],e={},s=!0,n=!1,a=void 0;try{for(var o,r=this.rules[Symbol.iterator]();!(s=(o=r.next()).done);s=!0){var i=o.value;e[i]||(t.push(i),e[i]=1)}}catch(l){n=!0,a=l}finally{try{s||null==r.return||r.return()}finally{if(n)throw a}}this.rules=t},frulesave:function(){this.distinct(),this.$store.state.gConf.routing=this.rules,this.$store.commit("saveGconf"),this.$elecV2Alert("去掉重复及错误，总保存分流规则 "+(this.rules.length-1))}}}),et=tt,st=(s("9df9"),Object(p["a"])(et,Q,Y,!1,null,"9c4755ae",null)),nt=st.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("ul",t._l(t.subrs,(function(e,n){return s("li",{key:n,staticClass:"subitem",on:{click:function(e){return t.upsubrules(n,e)}}},[t._v(t._s(e.name)+" "),s("span",{staticClass:"subitem-numb"},[t._v(t._s(e.numb))])])})),0)]),s("div",[s("p",[s("b",{staticClass:"infoname"},[t._v("订阅链接")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.subrurl,expression:"subrurl"}],staticClass:"infoinput",attrs:{name:"suburl"},domProps:{value:t.subrurl},on:{input:function(e){e.target.composing||(t.subrurl=e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname"},[t._v("订阅名字")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.subrname,expression:"subrname"}],staticClass:"infoinput",attrs:{name:"name"},domProps:{value:t.subrname},on:{input:function(e){e.target.composing||(t.subrname=e.target.value)}}})]),s("p",{staticClass:"center"},[s("button",{staticClass:"nbutton nbutton--long",on:{click:function(e){return t.addSuburl()}}},[t._v("添加订阅")])])])])},ot=[],rt={name:"elecV2SetSubrs",data:function(){return{subrs:this.$store.state.gConf.subrules,rules:this.$store.state.gConf.routing,subrurl:"",subrname:""}},methods:{upsubrules:function(t,e){var s=this;if(confirm("从这个规则源添加新的规则？")){e.target.classList.add("waitdot");var n=this.subrs[t].surl;fetch(n).then((function(t){return t.text()})).then((function(n){n=n.split("\n");var a=s.push(n);s.$set(s.subrs[t],"numb",a),s.$store.commit("saveGconf"),s.$elecV2Alert("添加规则条数： "+a),e.target.style.background="#fff",e.target.classList.remove("waitdot")}))}},addSuburl:function(){if(this.subrurl&&this.subrname){var t=$();this.$set(this.subrs,t,{name:this.subrname,surl:this.subrurl,numb:0}),this.$store.commit("saveGconf"),this.$elecV2Alert("新的订阅已保存")}else this.$elecV2Alert("输入不能为空")},clarifyRule:function(t){var e=t.toString().replace(/\s/g,"").split(",");if(3!=e.length)return!1;if(/domain/i.test(e[0]))e[0]="domain";else if(/(ip|IP-CIDR)/i.test(e[0]))e[0]="ip";else{if(!/(domain|ip|key)/.test(e[0]))return!1;e[0]=e[0].toLowerCase()}switch(e[0]){case"key":if(/(^domain:|^geoip:)/.test(e[1])){var s=e[1].split(":");e[0]="domain"==s[0]?"domain":"ip","domain"==e[0]&&(e[1]=s[1])}break;case"domain":if(0==/[a-zA-Z0-9]+\.[a-z]+/.test(e[1]))return!1;break;case"ip":if(0==/(ip|[0-9]+\.[0-9]+\.[0-9]+\.[0-9])/i.test(e[1]))return!1;break}if(/Reject/i.test(e[2]))e[2]="block";else if(/REMOTE/i.test(e[2]))e[2]="proxy";else{if(!/(proxy|direct|block)/i.test(e[2]))return!1;e[2]=e[2].toLowerCase()}return e},isrepeat:function(t){return-1!=this.rules.indexOf(t.toString())},push:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s&&(this.rules=[]);var n=0;if("string"==typeof t){var a=this.clarifyRule(t);a&&!this.isrepeat(a)&&(this.rules.push(a.join(",")),n++)}else t.forEach((function(t){var s=e.clarifyRule(t);s&&!e.isrepeat(s)&&(e.rules.push(s.join(",")),n++)}));return n}}},it=rt,lt=(s("4864"),Object(p["a"])(it,at,ot,!1,null,null,null)),ut=lt.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"advanSetInfo"},[s("div",{staticClass:"wzborder"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("特殊参数设置")]),s("p",[s("b",{staticClass:"infoname"},[t._v("MUX")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.mux,expression:"outBset.mux"}],staticClass:"infoinput_checkbox",attrs:{type:"checkbox",name:"mux"},domProps:{checked:Array.isArray(t.outBset.mux)?t._i(t.outBset.mux,null)>-1:t.outBset.mux},on:{change:function(e){var s=t.outBset.mux,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.outBset,"mux",s.concat([o])):r>-1&&t.$set(t.outBset,"mux",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.outBset,"mux",a)}}}),s("b",{staticClass:"infoname infoname_long"},[t._v("concurrency")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.concurrency,expression:"outBset.concurrency"}],staticClass:"infoinput infoinput_two",attrs:{name:"concurrency",placeholder:"1-1024"},domProps:{value:t.outBset.concurrency},on:{input:function(e){e.target.composing||t.$set(t.outBset,"concurrency",e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("tcpfastopen")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.tcpfastopen,expression:"outBset.tcpfastopen"}],staticClass:"infoinput_checkbox",attrs:{type:"checkbox",name:"tcpfastopen"},domProps:{checked:Array.isArray(t.outBset.tcpfastopen)?t._i(t.outBset.tcpfastopen,null)>-1:t.outBset.tcpfastopen},on:{change:function(e){var s=t.outBset.tcpfastopen,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.outBset,"tcpfastopen",s.concat([o])):r>-1&&t.$set(t.outBset,"tcpfastopen",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.outBset,"tcpfastopen",a)}}}),s("b",{staticClass:"infoname"},[t._v("TLS")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.outBset.tls,expression:"outBset.tls"}],staticClass:"infoinput infoinput_two",attrs:{name:"tls"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.outBset,"tls",e.target.multiple?s:s[0])}}},[s("option",[t._v("none")]),s("option",[t._v("tls")])])]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("allowInsecure")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.allowInsecure,expression:"outBset.allowInsecure"}],staticClass:"infoinput_checkbox",attrs:{type:"checkbox",name:"allowInsecure"},domProps:{checked:Array.isArray(t.outBset.allowInsecure)?t._i(t.outBset.allowInsecure,null)>-1:t.outBset.allowInsecure},on:{change:function(e){var s=t.outBset.allowInsecure,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.outBset,"allowInsecure",s.concat([o])):r>-1&&t.$set(t.outBset,"allowInsecure",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.outBset,"allowInsecure",a)}}})]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("domainStrategy")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.outBset.domainStrategy,expression:"outBset.domainStrategy"}],staticClass:"infoinput infoinput_middle",attrs:{name:"domainStrategy"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.outBset,"domainStrategy",e.target.multiple?s:s[0])}}},[s("option",[t._v("AsIs")]),s("option",[t._v("IPIfNonMatch")]),s("option",[t._v("IPOnDemand")])])])]),s("div",{staticClass:"wzborder csoutbset"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("出站及路由优先级")]),s("p",{staticClass:"center"},[t._v("第一个选择值顺序第一，第二个第二，剩余一个最后")]),s("p",{staticClass:"csoutborder"},[s("b",{staticClass:"infoname infoname_short"},[t._v("出站")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.outBset.outborder[0],expression:"outBset.outborder[0]"}],staticClass:"infoinput infoinput_two",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.outBset.outborder,0,e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"proxy"}},[t._v("代理")]),s("option",{attrs:{value:"direct"}},[t._v("直连")]),s("option",{attrs:{value:"block"}},[t._v("阻止")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.outBset.outborder[1],expression:"outBset.outborder[1]"}],staticClass:"infoinput infoinput_two",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.outBset.outborder,1,e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"proxy"}},[t._v("代理")]),s("option",{attrs:{value:"direct"}},[t._v("直连")]),s("option",{attrs:{value:"block"}},[t._v("阻止")])])]),t._m(0),s("p",{staticClass:"csroutorder"},[s("b",{staticClass:"infoname infoname_short"},[t._v("路由")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.outBset.routorder[0],expression:"outBset.routorder[0]"}],staticClass:"infoinput infoinput_two",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.outBset.routorder,0,e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"proxy"}},[t._v("代理")]),s("option",{attrs:{value:"direct"}},[t._v("直连")]),s("option",{attrs:{value:"block"}},[t._v("阻止")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.outBset.routorder[1],expression:"outBset.routorder[1]"}],staticClass:"infoinput infoinput_two",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.outBset.routorder,1,e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"proxy"}},[t._v("代理")]),s("option",{attrs:{value:"direct"}},[t._v("直连")]),s("option",{attrs:{value:"block"}},[t._v("阻止")])])])]),s("div",{staticClass:"wzborder cskcpset"},[s("span",{staticClass:"wzborder_mtitle"},[t._v("KCP参数设置")]),s("p",[s("b",{staticClass:"infoname"},[t._v("mtu")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.kcp[0],expression:"outBset.kcp[0]"}],staticClass:"infoinput",attrs:{name:"mtu",placeholder:"最大传输单元 576 - 1460"},domProps:{value:t.outBset.kcp[0]},on:{input:function(e){e.target.composing||t.$set(t.outBset.kcp,0,e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname"},[t._v("tti")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.kcp[1],expression:"outBset.kcp[1]"}],staticClass:"infoinput",attrs:{name:"tti",placeholder:"传输时间间隔 10 - 100"},domProps:{value:t.outBset.kcp[1]},on:{input:function(e){e.target.composing||t.$set(t.outBset.kcp,1,e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("ulinkCapacity")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.kcp[2],expression:"outBset.kcp[2]"}],staticClass:"infoinput infoinput_middle",attrs:{name:"uplinkCapacity",placeholder:"上行链路容量，单位 MB/s"},domProps:{value:t.outBset.kcp[2]},on:{input:function(e){e.target.composing||t.$set(t.outBset.kcp,2,e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("dlinkCapacity")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.kcp[3],expression:"outBset.kcp[3]"}],staticClass:"infoinput infoinput_middle",attrs:{name:"downlinkCapacity",placeholder:"下行链路容量，单位 MB/s"},domProps:{value:t.outBset.kcp[3]},on:{input:function(e){e.target.composing||t.$set(t.outBset.kcp,3,e.target.value)}}})]),s("p",[s("b",{staticClass:"infoname infoname_long"},[t._v("congestion")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.kcp[4],expression:"outBset.kcp[4]"}],staticClass:"infoinput_checkbox",attrs:{type:"checkbox",name:"congestion"},domProps:{checked:Array.isArray(t.outBset.kcp[4])?t._i(t.outBset.kcp[4],null)>-1:t.outBset.kcp[4]},on:{change:function(e){var s=t.outBset.kcp[4],n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&t.$set(t.outBset.kcp,4,s.concat([o])):r>-1&&t.$set(t.outBset.kcp,4,s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.outBset.kcp,4,a)}}}),s("b",{staticClass:"infoname"},[t._v("伪装类型")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.outBset.kcp[7],expression:"outBset.kcp[7]"}],staticClass:"infoinput infoinput_two",attrs:{name:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.outBset.kcp,7,e.target.multiple?s:s[0])}}},[s("option",[t._v("none")]),s("option",[t._v("srtp")]),s("option",[t._v("utp")]),s("option",[t._v("wechat-video")]),s("option",[t._v("dtls")]),s("option",[t._v("wireguard")])])]),s("p",[s("b",{staticClass:"infoname"},[t._v("rBSize")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.kcp[5],expression:"outBset.kcp[5]"}],staticClass:"infoinput infoinput_two",attrs:{name:"readBufferSize",placeholder:"读缓 MB"},domProps:{value:t.outBset.kcp[5]},on:{input:function(e){e.target.composing||t.$set(t.outBset.kcp,5,e.target.value)}}}),s("b",{staticClass:"infoname"},[t._v("wBSize")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.outBset.kcp[6],expression:"outBset.kcp[6]"}],staticClass:"infoinput infoinput_two",attrs:{name:"writeBufferSize",placeholder:"写缓 MB"},domProps:{value:t.outBset.kcp[6]},on:{input:function(e){e.target.composing||t.$set(t.outBset.kcp,6,e.target.value)}}})])]),s("p",{staticClass:"center"},[s("button",{staticClass:"nbutton nbutton--long",on:{click:t.saveadvanSet}},[t._v("保存")])])])},pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"tip"},[t._v("* 没有匹配到路由规则的网站默认使用第一个出站协议"),s("br"),t._v("* 即： 代理优先 - 白名单模式 直连优先 - 黑名单模式")])}],dt={name:"elecV2SetAdvan",data:function(){return{outBset:this.$store.state.gConf.outBset}},methods:{saveadvanSet:function(){if(this.outBset.concurrency=Number(this.outBset.concurrency),this.outBset.outborder[0]!=this.outBset.outborder[1]&&this.outBset.routorder[0]!=this.outBset.routorder[1]){for(var t=0,e=["direct","block","proxy"];t<e.length;t++){var s=e[t];-1==this.outBset.outborder.indexOf(s)&&(this.outBset.outborder[2]=s),-1==this.outBset.routorder.indexOf(s)&&(this.outBset.routorder[2]=s)}this.outBset.kcp[0]=Number(this.outBset.kcp[0])||1350,this.outBset.kcp[1]=Number(this.outBset.kcp[1])||50,this.outBset.kcp[2]=Number(this.outBset.kcp[2])||5,this.outBset.kcp[3]=Number(this.outBset.kcp[3])||20,this.outBset.kcp[5]=Number(this.outBset.kcp[5])||2,this.outBset.kcp[6]=Number(this.outBset.kcp[6])||2,this.$store.commit("saveGconf"),this.$elecV2Alert("保存成功")}else this.$elecV2Alert("出站或路由规则请不要选择相同值")}}},vt=dt,mt=(s("b81c"),Object(p["a"])(vt,ct,pt,!1,null,"124361be",null)),ft=mt.exports,ht={name:"elecV2Set",data:function(){return{setlists:[{id:"Bases",text:"基础设置"},{id:"Theme",text:"主题配色"},{id:"Frule",text:"路由分流"},{id:"Subrs",text:"规则订阅"},{id:"Advan",text:"进阶设置"}],acTab:"Bases"}},props:[],computed:{},components:{elecV2SetBases:q,elecV2SetTheme:Z,elecV2SetFrule:nt,elecV2SetSubrs:ut,elecV2SetAdvan:ft},methods:{showSet:function(t){this.acTab=t}}},gt=ht,_t=(s("d29b"),Object(p["a"])(gt,E,M,!1,null,"9d134dfe",null)),bt=_t.exports,Ct={name:"elecV2",data:function(){return{themecl:this.$root.themecl,currentpanel:"elecV2Ser"}},computed:{themeclstyle:function(){return{"--themecl-zero":this.themecl[0],"--themecl-one":this.themecl[1],"--themecl-two":this.themecl[2],"--themecl-three":this.themecl[3],"--boxshadow-three":"0px 0px 16px "+this.themecl[3],"--border-two":"1px solid "+this.themecl[2],"--border-three":"1px solid "+this.themecl[3],"--linear-gradient":"-webkit-linear-gradient(top , transparent, transparent 31px, "+this.themecl[0]+" 0)"}}},components:{elecV2Toggle:v,elecV2Ser:z,elecV2Set:bt,elecV2CmdPanel:b},methods:{setToggle:function(){"elecV2Ser"==this.currentpanel?this.currentpanel="elecV2Set":this.currentpanel="elecV2Ser"}}},yt=Ct,wt=(s("5174"),Object(p["a"])(yt,o,r,!1,null,null,null)),kt=wt.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.alertshow?s("div",{staticClass:"alertelec"},[s("p",{staticClass:"alertelec_message"},[t._v(t._s(t.alertmessage))]),t.alertconfirm?s("button",{staticClass:"alertelec_button",on:{click:function(e){t.alertshow=!t.alertshow}}},[t._v("确定")]):t._e()]):t._e()])},St=[],Bt={name:"alertElec",data:function(){return{alertshow:!1,alertconfirm:!1,alertmessage:""}}},$t=Bt,jt=(s("1a43"),Object(p["a"])($t,xt,St,!1,null,"38a882c8",null)),Nt=jt.exports,At={install:function(t){var e=t.extend(Nt),s=new e;s.$mount("#elecV2Plugin"),t.prototype.$elecV2Alert=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;s.alertmessage=t,s.alertshow=!0,setTimeout((function(){return s.alertshow=!1}),e)}}};n["a"].config.productionTip=!1,n["a"].use(a["a"]);var Pt=new a["a"].Store({state:{gConf:{log:{}}},mutations:{getGconf:function(t){window.localStorage&&localStorage.locgConf?t.gConf=JSON.parse(localStorage.locgConf):(t.gConf={log:{loglevel:"warning"},dns:[],evset:{maxSubsers:10,isRandsub:!1},inbound:{sport:1080,hport:1081},theme:{e73Ue:{name:"大海沙滩",colorsc:["#2E3784","#2E0571","#FFCB40","#64AAD0"]},tdxh:{name:"土地玄黄",colorsc:["#e2c275","#c36a2d","#f4f4f4","#C89B40"]},TCXA2:{name:"莫句",colorsc:["#2e1630","#262b60","#e9bb4c","#d3fd3c"]}},serlists:{},group:{},outBset:{tcpfastopen:!0,mux:!0,concurrency:8,outborder:["proxy","direct","block"],routorder:["block","direct","proxy"],kcp:[1350,50,5,20,!1,2,2,"none"],tls:"tls",allowInsecure:!0,domainStrategy:"AsIs"},routing:[],subrules:{}},localStorage.setItem("locgConf",JSON.stringify(t.gConf)))},saveGconf:function(t){localStorage.locgConf=JSON.stringify(t.gConf)}}});new n["a"]({data:{themecl:[]},store:Pt,render:function(t){return t(kt)},created:function(){Pt.commit("getGconf"),Pt.state.gConf.evset.activetheme&&Pt.state.gConf.theme[Pt.state.gConf.evset.activetheme]?this.themecl=Pt.state.gConf.theme[Pt.state.gConf.evset.activetheme].colorsc:this.themecl=Pt.state.gConf.theme.e73Ue.colorsc}}).$mount("#elecV2"),n["a"].use(At)},"6fad":function(t,e,s){},"746f":function(t,e,s){},8722:function(t,e,s){},"87d4":function(t,e,s){},"9df9":function(t,e,s){"use strict";var n=s("fa7b"),a=s.n(n);a.a},ae72:function(t,e,s){"use strict";var n=s("87d4"),a=s.n(n);a.a},b81c:function(t,e,s){"use strict";var n=s("54d5"),a=s.n(n);a.a},c11d:function(t,e,s){"use strict";var n=s("3c74"),a=s.n(n);a.a},d055:function(t,e,s){"use strict";var n=s("6fad"),a=s.n(n);a.a},d1ea:function(t,e,s){},d29b:function(t,e,s){"use strict";var n=s("746f"),a=s.n(n);a.a},e0e2:function(t,e,s){},f8f3:function(t,e,s){"use strict";var n=s("8722"),a=s.n(n);a.a},fa7b:function(t,e,s){}});
//# sourceMappingURL=app.041d7649.js.map