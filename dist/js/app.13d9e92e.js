(function(e){function t(t){for(var r,a,i=t[0],l=t[1],u=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(r=!1)}r&&(n.splice(t--,1),e=a(a.s=s[0]))}return e}var r={},o={app:0},n=[];function a(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=r,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"2e57":function(module,__webpack_exports__,__webpack_require__){"use strict";var D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7618");__webpack_exports__["a"]={name:"cmdPanel",data:function(){return{history:[],historyind:0,current:"cls",results:[]}},computed:{resultsshow:function(){return this.results.join("<br>")}},methods:{run:function run(e){if(13===e.which){if(""==this.current)return!1;switch(this.results.unshift(">> "+this.current),this.history.push(this.current),this.historyind=this.history.length-1,this.current){case"cls":this.results=[];break;default:var jg;try{jg=eval(this.current)}catch(_unused){jg="不是合法的 js 代码"}"object"==Object(D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["a"])(jg)&&(jg=JSON.stringify(jg)),jg&&this.results.unshift(jg)}this.current=""}else 38===e.which?(this.historyind<0&&(this.historyind=this.history.length-1),this.current=this.history[this.historyind--]):40===e.which&&(this.historyind>this.history.length-1&&(this.historyind=0),this.current=this.history[this.historyind++])}}}},4831:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"elecV2"}},[s("keep-alive",[s(e.currentpanel,{tag:"panel",attrs:{title:e.title},on:{"set-show":e.setShow}})],1),s("cmdPanel")],1)},o=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"cmd"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.current,expression:"current"}],attrs:{id:"cmdStr",placeholder:"cls"},domProps:{value:e.current},on:{keyup:e.run,input:function(t){t.target.composing||(e.current=t.target.value)}}}),s("div",{attrs:{id:"consoleout"},domProps:{innerHTML:e._s(e.resultsshow)}})])},a=[],i=s("2e57"),l=i["a"],u=s("2877"),c=Object(u["a"])(l,n,a,!1,null,null,null),d=c.exports,p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"elecV2Ser"}},[s("div",{attrs:{id:"left"}},[s("div",{attrs:{id:"idDrag"}},[e._v(e._s(e.title))]),s("span",{attrs:{id:"settingShow"},on:{click:function(t){return e.$emit("set-show")}}},[s("span",{staticClass:"icon-menu cslittlebutton"})]),s("div",{attrs:{id:"slist"}},[s("ul",{staticClass:"serGroup",attrs:{id:"ulist"}},[e._l(e.allser.nogroupser,(function(t){return s("li",{key:t,class:{selected:e.slcser==t},attrs:{id:t},on:{click:function(s){return s.target!==s.currentTarget?null:e.showSerInfo(t)}}},[e._v(e._s(e.serlists[t].name)),s("span",{style:{background:e.isdelser},on:{click:function(s){return s.preventDefault(),e.delSer(t)},mouseleave:function(t){e.isdelser="white"}}},[e._v("x")])])})),s("li",{attrs:{id:"addSer"},on:{click:function(t){return e.showSerInfo("addSer")}}},[e._v("+")])],2),e._l(e.allser.grouplist,(function(t,r){return s("div",{key:r,staticClass:"serGroup",attrs:{name:r}},[s("div",[s("span",{attrs:{id:r},on:{click:function(t){return t.target!==t.currentTarget?null:e.showSerInfo(r,!0)}}},[e._v(e._s(e.group[r].name))]),s("span",{staticClass:"csCollpser",on:{click:e.collapseSer}},[e._v(">")])]),e.nocollpe?s("ul",e._l(e.allser.grouplist[r],(function(t){return s("li",{key:t,class:{selected:e.slcser==t},attrs:{id:t},on:{click:function(s){return s.target!==s.currentTarget?null:e.showSerInfo(t)}}},[e._v(e._s(e.serlists[t].name)),s("span",{style:{background:e.isdelser},on:{click:function(s){return s.preventDefault(),e.delSer(t)},mouseleave:function(t){e.isdelser=!1}}},[e._v("x")])])})),0):e._e()])}))],2)]),s("div",{attrs:{id:"infos"}},[s("ul",{attrs:{id:"serInfoList"}},[e.addSershow?s("li",{staticClass:"sInfoMtop",attrs:{id:"addSerInfo"}},[s("p",[s("b",[e._v("链接")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addsurl,expression:"addsurl"}],attrs:{type:"text",name:"adds",placeholder:"vmess://xxx or ss://xxxx or 订阅地址"},domProps:{value:e.addsurl},on:{input:function(t){t.target.composing||(e.addsurl=t.target.value)}}})]),s("p",[s("b",[e._v("别名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.addname,expression:"addname"}],attrs:{name:"sername",placeholder:"可留空"},domProps:{value:e.addname},on:{input:function(t){t.target.composing||(e.addname=t.target.value)}}})]),s("p",[s("b",[e._v("添加到组")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.addgroup,expression:"addgroup"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.addgroup=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"none"}},[e._v("不添加到分组")]),e._l(e.group,(function(t,r){return s("option",{key:r,domProps:{value:r}},[e._v(e._s(t.name))])}))],2)]),s("p",{staticClass:"center"},[s("button",{on:{click:e.addS}},[e._v("添加")])])]):e._e(),e.currentgid?s("li",{staticClass:"sInfoMtop",attrs:{id:e.currentgid+"Info"}},[s("h3",[s("big",[e._v("订阅组名：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.group[e.currentgid].name,expression:"group[currentgid].name"}],attrs:{name:"gname",type:"text"},domProps:{value:e.group[e.currentgid].name},on:{input:function(t){t.target.composing||e.$set(e.group[e.currentgid],"name",t.target.value)}}})],1),s("p",[s("b",[e._v("链接：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.group[e.currentgid].suburl,expression:"group[currentgid].suburl"}],attrs:{type:"text",name:"gurl"},domProps:{value:e.group[e.currentgid].suburl},on:{input:function(t){t.target.composing||e.$set(e.group[e.currentgid],"suburl",t.target.value)}}})]),s("p",{staticClass:"center cstwoButton"},[s("button",{on:{click:function(t){return e.upGSer(e.currentgid,!0)}}},[e._v("保存更改")]),s("button",{on:{click:function(t){return e.upGSer(e.currentgid)}}},[e._v("更新订阅")])])]):e._e(),e.slcser?s("li",[s("h3",{staticClass:"center"},[s("big",[e._v("服务器名称：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.serjson.name,expression:"serjson.name"}],attrs:{name:"name",type:"text",placeholder:e.serjson.id},domProps:{value:e.serjson.name},on:{input:function(t){t.target.composing||e.$set(e.serjson,"name",t.target.value)}}})],1),s("div",{staticClass:"wzborder"},[s("p",[s("b",[e._v("服务器")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.serjson.address,expression:"serjson.address"}],attrs:{name:"address",placeholder:"服务器地址"},domProps:{value:e.serjson.address},on:{input:function(t){t.target.composing||e.$set(e.serjson,"address",t.target.value)}}}),s("span",[e._v(" : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.serjson.port,expression:"serjson.port"}],attrs:{name:"port",placeholder:"端口"},domProps:{value:e.serjson.port},on:{input:function(t){t.target.composing||e.$set(e.serjson,"port",t.target.value)}}})]),"vmess"==e.serjson.protocol?s("div",[s("p",[s("b",[e._v("UUID")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.serjson.id,expression:"serjson.id"}],attrs:{name:"id",placeholder:"合法的 UUID 值"},domProps:{value:e.serjson.id},on:{input:function(t){t.target.composing||e.$set(e.serjson,"id",t.target.value)}}})]),s("p",[s("b",[e._v("加密方式")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.serjson.security,expression:"serjson.security"}],attrs:{name:"security"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.serjson,"security",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"auto"}},[e._v("auto")]),s("option",{attrs:{value:"aes-128-gcm"}},[e._v("aes-128-gcm")]),s("option",{attrs:{value:"chacha20-poly1305"}},[e._v("chacha20-poly1305")]),s("option",{attrs:{value:"none"}},[e._v("none")])])]),s("p",[s("b",[e._v("alterId")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.serjson.aid,expression:"serjson.aid"}],attrs:{name:"aid",placeholder:"4"},domProps:{value:e.serjson.aid},on:{input:function(t){t.target.composing||e.$set(e.serjson,"aid",t.target.value)}}}),s("b",[e._v("path")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.serjson.path,expression:"serjson.path"}],attrs:{name:"path"},domProps:{value:e.serjson.path},on:{input:function(t){t.target.composing||e.$set(e.serjson,"path",t.target.value)}}})])]):s("div",[s("p",[s("b",[e._v("加密方式")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.serjson.method,expression:"serjson.method"}],attrs:{name:"method"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.serjson,"method",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"aes-256-cfb"}},[e._v("aes-256-cfb")]),s("option",{attrs:{value:"aes-128-cfb"}},[e._v("aes-128-cfb")]),s("option",{attrs:{value:"chacha20"}},[e._v("chacha20")]),s("option",{attrs:{value:"chacha20-ietf"}},[e._v("chacha20-ietf")]),s("option",{attrs:{value:"aes-256-gcm"}},[e._v("aes-256-gcm")]),s("option",{attrs:{value:"aes-128-gcm"}},[e._v("aes-128-gcm")]),s("option",{attrs:{value:"chacha20-poly1305"}},[e._v("chacha20-poly1305")])])]),s("p",[s("b",[e._v("密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.serjson.password,expression:"serjson.password"}],attrs:{name:"password"},domProps:{value:e.serjson.password},on:{input:function(t){t.target.composing||e.$set(e.serjson,"password",t.target.value)}}})])]),s("p",{staticClass:"fgfwithword streamset"},[s("span",[e._v("底层传输方式："+e._s(e.serjson.network))])]),"tcp"==e.serjson.network?s("div",{staticClass:"tcpSettings"},[s("p",[s("b",[e._v("type")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.serjson.type,expression:"serjson.type"}],attrs:{name:"type"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.serjson,"type",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"none"}},[e._v("none")]),s("option",{attrs:{value:"http"}},[e._v("http")])])])]):"h2"==e.serjson.network||"ws"==e.serjson.network?s("div",{staticClass:"httpSettings"},[s("p",[s("b",[e._v("伪装域名")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.serjson.host,expression:"serjson.host"}],attrs:{name:"hosts",placeholder:"123.com,exp.com,..."},domProps:{value:e.serjson.host},on:{input:function(t){t.target.composing||e.$set(e.serjson,"host",t.target.value)}}})])]):"quic"==e.serjson.network?s("div",{staticClass:"quicSettings"},[s("p",[s("b",[e._v("security")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.serjson.quicsecurity,expression:"serjson.quicsecurity"}],attrs:{name:"quicsecurity"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.serjson,"quicsecurity",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"none"}},[e._v("none")]),s("option",{attrs:{value:"aes-128-gcm"}},[e._v("aes-128-gcm")]),s("option",{attrs:{value:"chacha20-poly1305"}},[e._v("chacha20-poly1305")])])]),s("p",[s("b",[e._v("key")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.serjson.key,expression:"serjson.key"}],attrs:{name:"key",placeholder:"加密密钥"},domProps:{value:e.serjson.key},on:{input:function(t){t.target.composing||e.$set(e.serjson,"key",t.target.value)}}})]),s("p",[s("b",[e._v("伪装协议")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.serjson.type,expression:"serjson.type"}],attrs:{name:"type"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.serjson,"type",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"none"}},[e._v("none")]),s("option",{attrs:{value:"srtp"}},[e._v("srtp")]),s("option",{attrs:{value:"utp"}},[e._v("utp")]),s("option",{attrs:{value:"wechat-video"}},[e._v("wechat-video")]),s("option",{attrs:{value:"dtls"}},[e._v("dtls")]),s("option",{attrs:{value:"wireguard"}},[e._v("wireguard")])])])]):e._e()]),s("p",{staticClass:"cstwoButton"},[s("button",{on:{click:e.update}},[e._v("更新")]),s("button",{on:{click:function(t){return e.serToConfig(e.slcser)}}},[e._v("下载")])]),s("p",{staticClass:"center"},[s("span",{staticClass:"tSer"},[e._v(e._s(e.serlists[e.slcser].surl))]),s("br"),s("img",{staticClass:"serqrcode",attrs:{src:e.qrcode}})])]):e._e()])])])},v=[],_=(s("a481"),s("c5f6"),s("7618")),m=(s("ac4d"),s("8a81"),s("28a5"),s("7f7f"),s("4917"),s("ac6a"),s("456d"),s("4a37").getQrBase64),h=s("27ae").Base64,f={name:"elecV2Ser",data:function(){return{serlists:this.$root.gConf.serlists,group:this.$root.gConf.group,addsurl:"",addname:"",addgroup:"none",nocollpe:!0,addSershow:!0,currentgid:!1,slcser:!1,isdelser:"white"}},props:["title"],components:{},computed:{allser:function(){var e={grouplist:{},nogroupser:[]};for(var t in this.serlists){var s=this.serlists[t].group;s?e.grouplist[s]?e.grouplist[s].push(t):e.grouplist[s]=[t]:e.nogroupser.push(t)}return e},serjson:function(){return this.slcser?this.surlToJson(this.serlists[this.slcser].surl):{}},qrcode:function(){return this.slcser?m(this.serlists[this.slcser].surl):""}},created:function(){},methods:{showSerInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"addSer"==e?(this.slcser=!1,this.currentgid=!1,this.addSershow=!0):t?(this.slcser=!1,this.addSershow=!1,this.currentgid=e):(this.addSershow=!1,this.currentgid=!1,this.slcser=e)},randShowSer:function(){this.slcser=this.shuffle(Object.keys(this.serlists))[0]},collapseSer:function(e){this.nocollpe?(this.nocollpe=!1,e.target.style.transform="rotate(-90deg)"):(this.nocollpe=!0,e.target.style.transform="rotate(90deg)")},addToSerlists:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.match(/^(vmess:\/\/|ss:\/\/)/i)){var r=this.$root.newElecId(),o=this.surlToJson(e);s=s||o.name||"新服务器",t="none"==t?null:t,e=("shadowsocks"==o.protocol?"ss://":"vmess://")+h.encodeURI(JSON.stringify(o)),this.$set(this.serlists,r,{name:s,surl:e,group:t,address:o.address}),this.$root.saveGconf(),this.$root.alertElec("成功添加服务器 "+s)}else this.$root.alertElec("添加的服务器信息有误，请修改后重试")},delSer:function(e){if("white"==this.isdelser)this.isdelser="red";else{if(this.slcser=!1,this.isdelser,this.serlists[e].group){var t=this.allser.grouplist[this.serlists[e].group].indexOf(e);this.allser.grouplist[this.serlists[e].group].splice(t,1)}else{var s=this.allser.nogroupser.indexOf(e);this.allser.nogroupser.splice(s,1)}this.$delete(this.serlists,e),this.$root.saveGconf()}},shuffle:function(e){var t=0,s=0,r=null;for(t=e.length-1;t>0;t-=1)s=Math.floor(Math.random()*(t+1)),r=e[t],e[t]=e[s],e[s]=r;return e},updateGroupSer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$root.gConf.evset.maxSubsers,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.$root.gConf.evset.isRandsub;if(this.group[e]&&this.group[e].suburl){for(var r in this.serlists)this.serlists[r].group==e&&delete this.serlists[r];var o=this.group[e].suburl,n=this;fetch(o).then((function(e){return e.text()})).then((function(r){var o=h.decode(r).split(/\r?\n/),a=1;o.length>t&&s&&(o=n.shuffle(o));var i=!0,l=!1,u=void 0;try{for(var c,d=o[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){var p=c.value;if(/^vmess|^ss/i.test(p)){if(n.addToSerlists(p,e),a>=t)break;a++}}}catch(v){l=!0,u=v}finally{try{i||null==d.return||d.return()}finally{if(l)throw u}}}))}else this.$root.alertElec("订阅组不存在")},deleteSubser:function(e){for(var t in this.serlists)this.serlists[t].group==e&&this.$delete(this.serlists,t);this.$delete(this.group,e),this.$root.saveGconf()},exportGroup:function(e){var t=this,s=[];this.allser.grouplist[e].forEach((function(e){s.push(t.serlists[e].surl)})),this.$root.putFile(JSON.stringify(s))},addS:function(){if(""==this.addsurl)return this.$root.alertElec("输个值呀，兄弟~"),!1;if(/^http/i.test(this.addsurl)){if("none"!=this.addgroup)return this.$root.alertElec("不支持订阅组添加到组"),!1;var e=this.$root.newElecId();this.group[e]={},this.group[e].name=this.addname||"新订阅组",this.group[e].suburl=this.addsurl,this.updateGroupSer(e)}else this.addToSerlists(this.addsurl,this.addgroup,this.addname);this.addsurl="",this.addname=""},upGSer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.group[this.currentgid].name,r=this.group[this.currentgid].suburl;if(""==s||/^[0-9]|\.|-|#|:|@|\\|\//.test(s)||""==r)return this.$root.alertElec("输入有误（请不要使用空值和特殊字符）"),!1;t?(this.group[e].name=s,this.group[e].suburl=r,this.$root.saveGconf(),this.$root.alertElec("更改完成")):(this.group[e].name=s,this.group[e].suburl=r,this.updateGroupSer(e))},isJson:function(e){if("object"==Object(_["a"])(e))return!0;try{JSON.parse(e)}catch(t){return!1}return!0},update:function(){var e=("shadowsocks"==this.serjson.protocol?"ss://":"vmess://")+h.encodeURI(JSON.stringify(this.serjson));this.$root.gConf.serlists[this.slcser].surl=e,this.$root.gConf.serlists[this.slcser].name=this.serjson.name,this.$root.gConf.serlists[this.slcser].address=this.serjson.address,this.$root.saveGconf(),this.$root.alertElec("成功更新服务器 "+this.serjson.name)},toelecV2Json:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.name=decodeURIComponent(e.name||e.ps||e.remark||"新服务器"),e.address=e.address||e.add||e.host||e.ip||"",e.network=e.net||e.network||"tcp",e.level=e.level||e.userlevel||0,e.path=e.path||e.wsPath||"/",t){var s=["ps","remark","net","alterid","wsPath","userlevel","mtu","tti","uplinkCapacity","downlinkCapacity","congestion","readBufferSize","writeBufferSize","muxConcurrency","mux","allowInsecure"];s.forEach((function(t){return delete e[t]}))}return e},surlToJson:function(e){var t=e.split(/:\/\/|#|\?/),s=h.decode(t[1])+(t[2]?"#"+t[2]:""),r={};if("vmess"==t[0]){if(this.isJson(s))r=JSON.parse(s);else{var o=s.split(/:|@|#/);r.address=o[2],r.port=Number(o[3]),r.security=o[0],r.id=o[1],o[4].split("&").forEach((function(e){var t=e.split("=");r[t[0]]=t[1]}))}r.network=r.net||r.network||"tcp",r.tls="undefined"!=typeof r.tls&&("tls"==r.tls||Boolean(Number(r.tls)))?"tls":"none",r.protocol="vmess"}else if(this.isJson(s))r=JSON.parse(s);else{var n=s.split(/:|@|#/);r.name=n[4]||"SS服务器",r.address=n[2],r.port=n[3],r.method=n[0],r.password=decodeURIComponent(n[1]),r.protocol="shadowsocks"}return this.toelecV2Json(r,!0)},evurlToJson:function(e){var t=e.split(/:\/\/|#|\?/),s=h.decode(t[1]);return JSON.parse(s)},toInbobj:function(){var e=[];return e[0]={protocol:"socks",port:this.$root.gConf.inbound.sport||10806},e[1]={protocol:"http",port:this.$root.gConf.inbound.hport||1081},e},serToConfig:function(e){var t={log:{},dns:{},inbounds:[],outbounds:[],routing:{domainStrategy:this.$root.gConf.outBset.domainStrategy||"AsIs",rules:[]}};t.log=this.$root.gConf.log,t.dns.servers=this.$root.gConf.dns,t["inbounds"]=this.toInbobj(),t["outbounds"][this.$root.gConf.outBset.outborder.indexOf("proxy")]=this.surlToOutbobj(this.$root.gConf.serlists[e].surl),t["outbounds"][this.$root.gConf.outBset.outborder.indexOf("proxy")].tag="proxy",t["outbounds"][this.$root.gConf.outBset.outborder.indexOf("direct")]={tag:"direct",protocol:"freedom"},t["outbounds"][this.$root.gConf.outBset.outborder.indexOf("block")]={tag:"block",protocol:"blackhole"},t.routing.rules=this.toConfRules(),this.$root.putFile(JSON.stringify(t))},surlToOutbobj:function(e){var t={settings:{}},s=this.evurlToJson(e);if(t.protocol=s.protocol,t.streamSettings={network:s.network,security:this.$root.gConf.outBset.tls,tlsSettings:{allowInsecure:this.$root.gConf.outBset.allowInsecure},sockopt:{tcpFastOpen:this.$root.gConf.outBset.tcpfastopen}},t.mux={enabled:this.$root.gConf.outBset.mux,concurrency:this.$root.gConf.outBset.concurrency},"vmess"==t.protocol)switch(t.settings.vnext=[{address:s.add||s.address,port:Number(s.port),users:[{id:s.id,alterId:"undefined"!=typeof s.aid?Number(s.aid):4,security:s.security||"auto"}]}],s.network){case"tcp":t.streamSettings.tcpSettings={header:{type:s.type||"none"}},"http"==s.type&&(t.streamSettings.tcpSettings.header.request={version:"1.1",method:"GET",path:[s.path||"/"],headers:{Host:[s.host||""],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 10_0_2 like Mac OS X) AppleWebKit/601.1 (KHTML, like Gecko) CriOS/53.0.2785.109 Mobile/14A456 Safari/601.1.46"],"Accept-Encoding":["gzip, deflate"],Connection:["keep-alive"],Pragma:"no-cache"}});break;case"kcp":s.kcp=this.$root.gConf.outBset.kcp||s.kcp||[],t.streamSettings.kcpSettings={mtu:s.kcp[0],tti:s.kcp[1],uplinkCapacity:s.kcp[2],downlinkCapacity:s.kcp[3],congestion:s.kcp[4],readBufferSize:s.kcp[5],writeBufferSize:s.kcp[6],header:{type:s.type||"none"}};break;case"ws":t.streamSettings.wsSettings={path:s.path||"/",headers:{Host:s.host||""}};break;case"h2":t.streamSettings.httpSettings={host:[s.host||""],path:s.path||"/"};break;case"quic":t.streamSettings.quicSettings={security:s.quicsecurity||"none",key:s.key||s.password||"",header:{type:s.type||"none"}};break}else t.settings.servers=[{email:"elecV2@kufl.ml",address:s.address,port:Number(s.port),method:s.method||"aes-256-cfb",password:decodeURIComponent(s.password),level:Number(s.level)||0}];return t},toConfRules:function(){var e={proxy:[],direct:[],block:[]},t={proxy:[],direct:[],block:[]};this.$root.gConf.routing.forEach((function(s){var r=s.replace(/\s/g,"").split(",");"key"==r[0]?e[r[2]].push(r[1]):"domain"==r[0]?e[r[2]].push("domain:"+r[1]):"ip"==r[0]&&t[r[2]].push(r[1])}));var s=[],r=this.$root.gConf.outBset.routorder;return e[r[0]].length>0&&s.push({type:"field",outboundTag:r[0],domain:e[r[0]]}),t[r[0]].length>0&&s.push({type:"field",outboundTag:r[0],ip:t[r[0]]}),e[r[1]].length>0&&s.push({type:"field",outboundTag:r[1],domain:e[r[1]]}),t[r[1]].length>0&&s.push({type:"field",outboundTag:r[1],ip:t[r[1]]}),e[r[2]].length>0&&s.push({type:"field",outboundTag:r[2],domain:e[r[2]]}),t[r[2]].length>0&&s.push({type:"field",outboundTag:r[2],ip:t[r[2]]}),e.block.length>0&&(s[r.indexOf("block")]={type:"field",outboundTag:"block",domain:e.block}),s}}},g=f,b=Object(u["a"])(g,p,v,!1,null,null,null),y=b.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"elecV2Set"}},[s("div",{attrs:{id:"left"}},[s("div",{attrs:{id:"idDrag"}},[e._v(e._s(e.title))]),s("span",{attrs:{id:"settingShow"},on:{click:function(t){return e.$emit("set-show")}}},[s("span",{staticClass:"icon-menu cslittlebutton"})]),s("ul",{attrs:{id:"setting"}},e._l(e.setlists,(function(t){return s("li",{key:t.id,class:{active:e.acTab==t.id},attrs:{id:t.id},on:{click:function(s){return e.showSet(t.id)}}},[e._v(e._s(t.text))])})),0)]),s("div",{attrs:{id:"infos"}},[s("keep-alive",[s("Comp"+e.acTab,{tag:"setpanel"})],1)],1)])},w=[],C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"basesSetInfo"}},[s("div",{staticClass:"wzborder",attrs:{id:"inbound"}},[s("span",{staticClass:"mtitle"},[e._v("本地代理")]),s("p",{staticClass:"infolongb"},[s("b",[e._v("socks 代理端口")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.inbound.sport,expression:"inbound.sport"}],attrs:{name:"sport"},domProps:{value:e.inbound.sport},on:{input:function(t){t.target.composing||e.$set(e.inbound,"sport",t.target.value)}}})]),s("p",{staticClass:"infolongb"},[s("b",[e._v("HTTP 代理端口")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.inbound.hport,expression:"inbound.hport"}],attrs:{name:"hport"},domProps:{value:e.inbound.hport},on:{input:function(t){t.target.composing||e.$set(e.inbound,"hport",t.target.value)}}})]),e._m(0)]),s("div",{staticClass:"wzborder",attrs:{id:"idBsetdns"}},[s("span",{staticClass:"mtitle"},[e._v("DNS")]),s("p",[s("b",[e._v("DNS")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.dns,expression:"dns"}],attrs:{name:"dns",placeholder:"8.8.8.8,1.1.1.1"},domProps:{value:e.dns},on:{input:function(t){t.target.composing||(e.dns=t.target.value)}}})])]),s("div",{staticClass:"wzborder",attrs:{id:"idlogset"}},[s("span",{staticClass:"mtitle"},[e._v("log 日志")]),s("p",{staticClass:"infolongb"},[s("b",[e._v("访问日志保存目录")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.log.access,expression:"log.access"}],attrs:{name:"access",placeholder:"建议留空"},domProps:{value:e.log.access},on:{input:function(t){t.target.composing||e.$set(e.log,"access",t.target.value)}}})]),s("p",{staticClass:"infolongb"},[s("b",[e._v("错误日志保存目录")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.log.error,expression:"log.error"}],attrs:{name:"error",placeholder:"建议留空"},domProps:{value:e.log.error},on:{input:function(t){t.target.composing||e.$set(e.log,"error",t.target.value)}}})]),s("p",{staticClass:"infolongb"},[s("b",[e._v("错误日志保存级别")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.log.loglevel,expression:"log.loglevel"}],attrs:{name:"loglevel"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.log,"loglevel",t.target.multiple?s:s[0])}}},[s("option",[e._v("debug")]),s("option",[e._v("info")]),s("option",[e._v("warning")]),s("option",[e._v("error")]),s("option",[e._v("none")])])]),e._m(1)]),s("div",{staticClass:"wzborder",attrs:{id:"idsubset"}},[s("span",{staticClass:"mtitle"},[e._v("订阅相关设置")]),s("p",{staticClass:"infolongb"},[s("b",[e._v("最大获取服务器数")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.evset.maxSubsers,expression:"evset.maxSubsers"}],attrs:{name:"maxSubsers"},domProps:{value:e.evset.maxSubsers},on:{input:function(t){t.target.composing||e.$set(e.evset,"maxSubsers",t.target.value)}}})]),s("p",[s("b",[e._v("是否随机")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.evset.isRandsub,expression:"evset.isRandsub"}],attrs:{type:"checkbox",name:"isRandsub"},domProps:{checked:Array.isArray(e.evset.isRandsub)?e._i(e.evset.isRandsub,null)>-1:e.evset.isRandsub},on:{change:function(t){var s=e.evset.isRandsub,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);r.checked?a<0&&e.$set(e.evset,"isRandsub",s.concat([n])):a>-1&&e.$set(e.evset,"isRandsub",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.evset,"isRandsub",o)}}})]),s("p",{staticClass:"tip"},[e._v("* 一些免费订阅链接可能包含上百个服务器，根本用不了那么多，还占位置，选择起来也麻烦。")])]),s("div",{staticClass:"wzborder csevset"},[s("span",{staticClass:"mtitle"},[e._v("本程序相关")]),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.evset.isLocalStorage,expression:"evset.isLocalStorage"}],attrs:{name:"isLocalStorage",type:"checkbox"},domProps:{checked:Array.isArray(e.evset.isLocalStorage)?e._i(e.evset.isLocalStorage,null)>-1:e.evset.isLocalStorage},on:{change:function(t){var s=e.evset.isLocalStorage,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);r.checked?a<0&&e.$set(e.evset,"isLocalStorage",s.concat([n])):a>-1&&e.$set(e.evset,"isLocalStorage",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.evset,"isLocalStorage",o)}}}),s("span",[e._v("启用 localStorage")])]),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.evset.runonStart,expression:"evset.runonStart"}],attrs:{name:"runonStart",type:"checkbox"},domProps:{checked:Array.isArray(e.evset.runonStart)?e._i(e.evset.runonStart,null)>-1:e.evset.runonStart},on:{change:function(t){var s=e.evset.runonStart,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);r.checked?a<0&&e.$set(e.evset,"runonStart",s.concat([n])):a>-1&&e.$set(e.evset,"runonStart",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.evset,"runonStart",o)}}}),s("span",[e._v("启动时运行 v2ray")])]),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.evset.isResize,expression:"evset.isResize"}],attrs:{name:"isResize",type:"checkbox"},domProps:{checked:Array.isArray(e.evset.isResize)?e._i(e.evset.isResize,null)>-1:e.evset.isResize},on:{change:function(t){var s=e.evset.isResize,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);r.checked?a<0&&e.$set(e.evset,"isResize",s.concat([n])):a>-1&&e.$set(e.evset,"isResize",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.evset,"isResize",o)}}}),s("span",[e._v("收缩已隐藏的透明界面")])]),e._m(2)]),s("p",{staticClass:"center"},[s("button",{staticClass:"longButton",on:{click:e.saveBset}},[e._v("保存")])])])},x=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"center"},[s("i",[e._v("*两种代理模式同时启用，请勿设置相同端口")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"center"},[s("i",[e._v("*若目录为空则输出到 stdout"),s("br"),e._v("*如果不是测试开发，不建议保留任何日志（设为 none）")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"tip"},[e._v("* 默认使用 localStorage 保存配置文件。不选择则使用本地文件 elecV2.json 文件保存配置"),s("br"),e._v("* 收缩透明界面：默认点击收缩界面时只是透明隐藏了，程序实际窗口大小并没有变化（启用界面展开时可能会闪烁）")])}],S={name:"CompbasesSet",data:function(){return{inbound:this.$root.gConf.inbound,log:this.$root.gConf.log,evset:this.$root.gConf.evset,gdns:this.$root.gConf.dns}},computed:{dns:{get:function(){return this.gdns.join(",")},set:function(e){this.gdns=e.split(",")}}},methods:{saveBset:function(){return this.inbound.sport==this.inbound.hport?(this.$root.alertElec("http 和 socks 代理端口冲突"),!1):this.inbound.sport&&this.inbound.hport?(this.inbound.sport=Number(this.inbound.sport),this.inbound.hport=Number(this.inbound.hport),this.evset.maxSubsers=Number(this.evset.maxSubsers)||10,this.$root.gConf.dns=this.gdns,this.$root.saveGconf(),void this.$root.alertElec("基础设置已保存")):(this.$root.alertElec("http 和 socks 代理端口输入不完整"),!1)}}},B=S,E=Object(u["a"])(B,C,x,!1,null,null,null),$=E.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"themeSetInfo"}},[s("div",{staticClass:"wzborder",attrs:{id:"idCurrentSc"}},[s("span",{staticClass:"mtitle"},[e._v("当前主题")]),s("div",{attrs:{id:"idcsshow"}},[s("p",{staticClass:"center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newname,expression:"newname"}],domProps:{value:e.newname},on:{input:function(t){t.target.composing||(e.newname=t.target.value)}}})]),s("ul",e._l(e.minputcs,(function(e){return s("li",{key:e,style:{background:e}})})),0)]),s("p",{staticClass:"center"},[s("button",{staticClass:"longButton",on:{click:e.saveCurrencs}},[e._v("设置为默认主题")])])]),s("div",{staticClass:"wzborder",attrs:{id:"allCsc"}},[s("span",{staticClass:"mtitle"},[e._v("可用主题")]),e._l(e.theme,(function(t,r){return s("ul",{key:r,staticClass:"colorSc",attrs:{id:r},on:{click:function(t){return e.applyCs(r)}}},[e._l(t.colorsc,(function(t){return s("li",{key:t,style:{background:t}},[e._v(e._s(t))])})),s("span",{attrs:{name:"nmthemename"}},[e._v(e._s(t.name))])],2)}))],2),s("div",{staticClass:"wzborder",attrs:{id:"manualSc"}},[s("span",{staticClass:"mtitle"},[e._v("更改主题")]),s("p",{staticClass:"center"},[s("button",{staticClass:"longButton",on:{click:function(t){return e.manualSc(!0)}}},[e._v("随机配色")])]),e._m(0),s("ul",e._l(e.minputcs,(function(t,r){return s("li",{key:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.minputcs[r],expression:"minputcs[ind]"}],attrs:{placeholder:t},domProps:{value:e.minputcs[r]},on:{input:function(t){t.target.composing||e.$set(e.minputcs,r,t.target.value)}}})])})),0),s("p",{staticClass:"center"},[s("button",{staticClass:"longButton",on:{click:function(t){return e.manualSc()}}},[e._v("应用")])]),e._m(1)])])},P=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"fgfwithword"},[s("span",[e._v("手动配色")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",[s("i",[e._v("Tips：")]),e._v("颜色依次为：左（主）窗口背景、右窗口背景、下窗口背景及主文字颜色、滚动条及边框等")])}],O=(s("6b54"),{name:"CompthemeSet",data:function(){return{active:!1,newname:"未命名主题",evset:this.$root.gConf.evset,theme:this.$root.gConf.theme,minputcs:new Array(4)}},created:function(){var e=this.evset.activetheme||Object.keys(this.theme)[0];this.active=e,this.newname=this.theme[e].name,this.minputcs=this.theme[e].colorsc},methods:{applyCs:function(e){this.active=e,this.newname=this.theme[e].name,this.minputcs=this.theme[e].colorsc,this.$root.theme(this.theme[e].colorsc)},saveCurrencs:function(){var e=this.active;if(e)this.theme[e].name=this.newname;else{e=this.$root.newElecId();var t={name:this.newname,colorsc:this.minputcs};this.$set(this.theme,e,t)}this.evset.activetheme=e,this.$root.saveGconf(),this.$root.alertElec("成功设置默认主题："+this.newname)},manualSc:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.active=!1,this.newname="未命名主题",e&&(this.minputcs=[this.randChex(125,125,125),this.randChex(125,125,125),this.randChex(),this.randChex()]),this.$root.theme(this.minputcs)},randChex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=Math.floor(Math.random()*e).toString(16);r.length<2&&(r="0"+r);var o=Math.floor(Math.random()*t).toString(16);o.length<2&&(o="0"+o);var n=Math.floor(Math.random()*s).toString(16);return n.length<2&&(n="0"+n),"#"+r+o+n}}}),M=O,A=Object(u["a"])(M,j,P,!1,null,null,null),I=A.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"fruleSetInfo"}},[s("ul",{staticClass:"csfMenu"},[s("li",{on:{click:e.save}},[e._v("保存 - "),s("small",[e._v("当前规则总行 ")]),s("i",[e._v(e._s(e.rules.length))])])]),s("div",{attrs:{id:"fruleTable"}},[s("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[e._m(0),s("tbody",e._l(e.editrules,(function(t,r){return s("tr",{key:r},[s("td",{attrs:{name:"nmMrule"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t[0],expression:"rule[0]"}],on:{change:function(s){var r=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,0,s.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"key"}},[e._v("关键字")]),s("option",{attrs:{value:"domain"}},[e._v("子域名")]),s("option",{attrs:{value:"ip"}},[e._v("IP")])])]),s("td",{attrs:{name:"nmMcont"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t[1],expression:"rule[1]"}],domProps:{value:t[1]},on:{input:function(s){s.target.composing||e.$set(t,1,s.target.value)}}})]),s("td",{attrs:{name:"nmOutbt"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t[2],expression:"rule[2]"}],on:{change:function(s){var r=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,2,s.target.multiple?r:r[0])}}},[s("option",{attrs:{value:"proxy"}},[e._v("代理")]),s("option",{attrs:{value:"direct"}},[e._v("直连")]),s("option",{attrs:{value:"block"}},[e._v("阻止")])])]),s("td",{staticClass:"csaction"},[s("span",{on:{click:function(t){return e.deltbrule(r)}}},[s("span",{staticClass:"cslittlebutton icon-delete"})]),s("span",{on:{click:function(t){return e.copytbrule(r)}}},[s("span",{staticClass:"cslittlebutton icon-copy"})])])])})),0),s("tfoot",[s("tr",[s("td",{attrs:{colspan:"4"},on:{click:e.addRuleTotable}},[e._v("+")])]),s("tr",[s("td",{attrs:{colspan:"4"}},[s("p",{staticClass:"tip",on:{click:e.addRulesToView}},[e._v("⇓⬇⇓ 添加到路由规则 ⇓⬇⇓")])])])])]),s("p",{staticClass:"cspage"})]),s("div",{attrs:{id:"idrulescont"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.strrules,expression:"strrules"}],domProps:{value:e.strrules},on:{input:function(t){t.target.composing||(e.strrules=t.target.value)}}})])])},N=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"csfixedtbwidth"},[e._v("匹配方式")]),s("th",[e._v("匹配内容")]),s("th",{staticClass:"csfixedtbwidth"},[e._v("分流规则")]),s("th",{staticClass:"csfixedtbwidth"},[e._v("操作")])])])}],D={name:"CompfruleSet",data:function(){return{rules:this.$root.gConf.routing,editrules:[]}},computed:{strrules:{get:function(){return this.rules.join("\n")},set:function(e){this.rules=e.split(/\n|\r/)}}},methods:{addRuleTotable:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(e=this.clarifyRule(e)),e||(e=["domain","","proxy"]),"number"==typeof t?this.editrules.splice(t+1,0,e):this.editrules.push(e)},deltbrule:function(e){this.editrules.splice(e,1)},copytbrule:function(e){this.addRuleTotable(this.editrules[e].join(","),e)},addRulesToView:function(){var e=[];this.editrules.forEach((function(t){e.push(t.join(","))})),this.strrules=e.join("\n")+"\n"+this.strrules,this.editrules=[]},clarifyRule:function(e){var t=e.toString().replace(/\s/g,"").split(",");if(3!=t.length)return!1;if(/domain/i.test(t[0]))t[0]="domain";else if(/(ip|IP-CIDR)/i.test(t[0]))t[0]="ip";else{if(!/(domain|ip|key)/.test(t[0]))return!1;t[0]=t[0].toLowerCase()}switch(t[0]){case"key":if(/(^domain:|^geoip:)/.test(t[1])){var s=t[1].split(":");t[0]="domain"==s[0]?"domain":"ip","domain"==t[0]&&(t[1]=s[1])}break;case"domain":if(0==/[a-zA-Z0-9]+\.[a-z]+/.test(t[1]))return!1;break;case"ip":if(0==/(ip|[0-9]+\.[0-9]+\.[0-9]+\.[0-9])/i.test(t[1]))return!1;break}if(/Reject/i.test(t[2]))t[2]="block";else if(/REMOTE/i.test(t[2]))t[2]="proxy";else{if(!/(proxy|direct|block)/i.test(t[2]))return!1;t[2]=t[2].toLowerCase()}return t},isrepeat:function(e){return-1!=this.rules.indexOf(e.toString())},push:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s&&(this.rules=[]);var r=0;if("string"==typeof e){var o=this.clarifyRule(e);o&&!this.isrepeat(o)&&(this.rules.push(o.join(",")),r++)}else e.forEach((function(e){var s=t.clarifyRule(e);s&&!t.isrepeat(s)&&(t.rules.push(s.join(",")),r++)}));return r},addGrules:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"proxy",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=!0,o=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=a.value;this.push("".concat(s,",").concat(l,",").concat(t))}}catch(u){o=!0,n=u}finally{try{r||null==i.return||i.return()}finally{if(o)throw n}}},distinct:function(){var e=[],t={},s=!0,r=!1,o=void 0;try{for(var n,a=this.rules[Symbol.iterator]();!(s=(n=a.next()).done);s=!0){var i=n.value;t[i]||(e.push(i),t[i]=1)}}catch(l){r=!0,o=l}finally{try{s||null==a.return||a.return()}finally{if(r)throw o}}this.rules=e},save:function(){this.distinct(),this.$root.saveGconf(),this.$root.alertElec("去掉重复及错误，总保存分流规则 "+this.rules.length)}}},R=D,W=Object(u["a"])(R,T,N,!1,null,null,null),L=W.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"subrsSetInfo"}},[s("ul",{attrs:{id:"idsublist"}},e._l(e.subrs,(function(t,r){return s("li",{key:r,attrs:{id:r},on:{click:e.upsubrules,mouseleave:function(t){e.isupdatesub=""}}},[e._v(e._s(t.name+e.isupdatesub)),s("span",[e._v(e._s(t.numb))])])})),0),s("div",{staticClass:"sInfoMtop"},[s("p",[s("b",[e._v("订阅链接")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.subrurl,expression:"subrurl"}],attrs:{name:"suburl"},domProps:{value:e.subrurl},on:{input:function(t){t.target.composing||(e.subrurl=t.target.value)}}})]),s("p",[s("b",[e._v("订阅名字")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.subrname,expression:"subrname"}],attrs:{name:"name"},domProps:{value:e.subrname},on:{input:function(t){t.target.composing||(e.subrname=t.target.value)}}})]),s("p",{staticClass:"longButton center"},[s("button",{on:{click:function(t){return e.addSuburl()}}},[e._v("添加订阅")])])])])},q=[],z={name:"CompsubrsSet",data:function(){return{subrs:this.$root.gConf.subrules,rules:this.$root.gConf.routing,subrurl:"",subrname:"",isupdatesub:""}},methods:{upsubrules:function(e){if(this.isupdatesub){e.target.classList.add("waitdot");var t=e.target.id,s=this.subrs[t].surl,r=this,o=this.$root;fetch(s).then((function(e){return e.text()})).then((function(s){s=s.split("\n");var n=r.push(s);r.$set(r.subrs[t],"numb",n),o.saveGconf(),o.alertElec("添加规则条数： "+n),e.target.style.background="#fff",e.target.classList.remove("waitdot")}))}else this.isupdatesub=" - 再次点击更新此订阅"},addSuburl:function(){if(this.subrurl&&this.subrname){var e=this.$root.newElecId();this.$set(this.subrs,e,{name:this.subrname,surl:this.subrurl,numb:0}),this.$root.saveGconf(),this.$root.alertElec("新的订阅已保存")}else this.$root.alertElec("输入不能为空")},clarifyRule:function(e){var t=e.toString().replace(/\s/g,"").split(",");if(3!=t.length)return!1;if(/domain/i.test(t[0]))t[0]="domain";else if(/(ip|IP-CIDR)/i.test(t[0]))t[0]="ip";else{if(!/(domain|ip|key)/.test(t[0]))return!1;t[0]=t[0].toLowerCase()}switch(t[0]){case"key":if(/(^domain:|^geoip:)/.test(t[1])){var s=t[1].split(":");t[0]="domain"==s[0]?"domain":"ip","domain"==t[0]&&(t[1]=s[1])}break;case"domain":if(0==/[a-zA-Z0-9]+\.[a-z]+/.test(t[1]))return!1;break;case"ip":if(0==/(ip|[0-9]+\.[0-9]+\.[0-9]+\.[0-9])/i.test(t[1]))return!1;break}if(/Reject/i.test(t[2]))t[2]="block";else if(/REMOTE/i.test(t[2]))t[2]="proxy";else{if(!/(proxy|direct|block)/i.test(t[2]))return!1;t[2]=t[2].toLowerCase()}return t},isrepeat:function(e){return-1!=this.rules.indexOf(e.toString())},push:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s&&(this.rules=[]);var r=0;if("string"==typeof e){var o=this.clarifyRule(e);o&&!this.isrepeat(o)&&(this.rules.push(o.join(",")),r++)}else e.forEach((function(e){var s=t.clarifyRule(e);s&&!t.isrepeat(s)&&(t.rules.push(s.join(",")),r++)}));return r}}},V=z,K=Object(u["a"])(V,U,q,!1,null,null,null),G=K.exports,H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"advanSetInfo"}},[s("div",{staticClass:"wzborder",attrs:{id:"idtbcs"}},[s("span",{staticClass:"mtitle"},[e._v("特殊参数设置")]),s("p",[s("b",[e._v("MUX")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.mux,expression:"outBset.mux"}],attrs:{type:"checkbox",name:"mux"},domProps:{checked:Array.isArray(e.outBset.mux)?e._i(e.outBset.mux,null)>-1:e.outBset.mux},on:{change:function(t){var s=e.outBset.mux,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);r.checked?a<0&&e.$set(e.outBset,"mux",s.concat([n])):a>-1&&e.$set(e.outBset,"mux",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.outBset,"mux",o)}}}),s("b",{staticClass:"cslongb"},[e._v("concurrency")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.concurrency,expression:"outBset.concurrency"}],attrs:{name:"concurrency",placeholder:"1-1024"},domProps:{value:e.outBset.concurrency},on:{input:function(t){t.target.composing||e.$set(e.outBset,"concurrency",t.target.value)}}})]),s("p",[s("b",{staticClass:"cslongb"},[e._v("tcpfastopen")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.tcpfastopen,expression:"outBset.tcpfastopen"}],attrs:{type:"checkbox",name:"tcpfastopen"},domProps:{checked:Array.isArray(e.outBset.tcpfastopen)?e._i(e.outBset.tcpfastopen,null)>-1:e.outBset.tcpfastopen},on:{change:function(t){var s=e.outBset.tcpfastopen,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);r.checked?a<0&&e.$set(e.outBset,"tcpfastopen",s.concat([n])):a>-1&&e.$set(e.outBset,"tcpfastopen",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.outBset,"tcpfastopen",o)}}}),s("b",[e._v("TLS")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.outBset.tls,expression:"outBset.tls"}],attrs:{name:"tls"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.outBset,"tls",t.target.multiple?s:s[0])}}},[s("option",[e._v("none")]),s("option",[e._v("tls")])])]),s("p",[s("b",{staticClass:"cslongb"},[e._v("allowInsecure")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.allowInsecure,expression:"outBset.allowInsecure"}],attrs:{type:"checkbox",name:"allowInsecure"},domProps:{checked:Array.isArray(e.outBset.allowInsecure)?e._i(e.outBset.allowInsecure,null)>-1:e.outBset.allowInsecure},on:{change:function(t){var s=e.outBset.allowInsecure,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);r.checked?a<0&&e.$set(e.outBset,"allowInsecure",s.concat([n])):a>-1&&e.$set(e.outBset,"allowInsecure",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.outBset,"allowInsecure",o)}}})]),s("p",{staticClass:"infolongb"},[s("b",[e._v("domainStrategy")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.outBset.domainStrategy,expression:"outBset.domainStrategy"}],attrs:{name:"domainStrategy"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.outBset,"domainStrategy",t.target.multiple?s:s[0])}}},[s("option",[e._v("AsIs")]),s("option",[e._v("IPIfNonMatch")]),s("option",[e._v("IPOnDemand")])])])]),s("div",{staticClass:"wzborder csoutbset"},[s("span",{staticClass:"mtitle"},[e._v("出站及路由优先级")]),s("p",{staticClass:"center"},[e._v("第一个选择值顺序第一，第二个第二，剩余一个最后")]),s("p",{staticClass:"csoutborder"},[s("b",[e._v("出站")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.outBset.outborder[0],expression:"outBset.outborder[0]"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.outBset.outborder,0,t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"proxy"}},[e._v("代理")]),s("option",{attrs:{value:"direct"}},[e._v("直连")]),s("option",{attrs:{value:"block"}},[e._v("阻止")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.outBset.outborder[1],expression:"outBset.outborder[1]"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.outBset.outborder,1,t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"proxy"}},[e._v("代理")]),s("option",{attrs:{value:"direct"}},[e._v("直连")]),s("option",{attrs:{value:"block"}},[e._v("阻止")])])]),e._m(0),s("p",{staticClass:"csroutorder"},[s("b",[e._v("路由")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.outBset.routorder[0],expression:"outBset.routorder[0]"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.outBset.routorder,0,t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"proxy"}},[e._v("代理")]),s("option",{attrs:{value:"direct"}},[e._v("直连")]),s("option",{attrs:{value:"block"}},[e._v("阻止")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.outBset.routorder[1],expression:"outBset.routorder[1]"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.outBset.routorder,1,t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"proxy"}},[e._v("代理")]),s("option",{attrs:{value:"direct"}},[e._v("直连")]),s("option",{attrs:{value:"block"}},[e._v("阻止")])])])]),s("div",{staticClass:"wzborder cskcpset"},[s("span",{staticClass:"mtitle"},[e._v("KCP参数设置")]),s("p",[s("b",[e._v("mtu")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.kcp[0],expression:"outBset.kcp[0]"}],attrs:{name:"mtu",placeholder:"最大传输单元 576 - 1460"},domProps:{value:e.outBset.kcp[0]},on:{input:function(t){t.target.composing||e.$set(e.outBset.kcp,0,t.target.value)}}})]),s("p",[s("b",[e._v("tti")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.kcp[1],expression:"outBset.kcp[1]"}],attrs:{name:"tti",placeholder:"传输时间间隔 10 - 100"},domProps:{value:e.outBset.kcp[1]},on:{input:function(t){t.target.composing||e.$set(e.outBset.kcp,1,t.target.value)}}})]),s("p",{staticClass:"infolongb"},[s("b",[e._v("ulinkCapacity")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.kcp[2],expression:"outBset.kcp[2]"}],attrs:{name:"uplinkCapacity",placeholder:"上行链路容量，单位 MB/s"},domProps:{value:e.outBset.kcp[2]},on:{input:function(t){t.target.composing||e.$set(e.outBset.kcp,2,t.target.value)}}})]),s("p",{staticClass:"infolongb"},[s("b",[e._v("dlinkCapacity")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.kcp[3],expression:"outBset.kcp[3]"}],attrs:{name:"downlinkCapacity",placeholder:"下行链路容量，单位 MB/s"},domProps:{value:e.outBset.kcp[3]},on:{input:function(t){t.target.composing||e.$set(e.outBset.kcp,3,t.target.value)}}})]),s("p",[s("b",{staticClass:"cslongb"},[e._v("congestion")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.kcp[4],expression:"outBset.kcp[4]"}],attrs:{type:"checkbox",name:"congestion"},domProps:{checked:Array.isArray(e.outBset.kcp[4])?e._i(e.outBset.kcp[4],null)>-1:e.outBset.kcp[4]},on:{change:function(t){var s=e.outBset.kcp[4],r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);r.checked?a<0&&e.$set(e.outBset.kcp,4,s.concat([n])):a>-1&&e.$set(e.outBset.kcp,4,s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.outBset.kcp,4,o)}}}),s("b",[e._v("伪装类型")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.outBset.kcp[7],expression:"outBset.kcp[7]"}],attrs:{name:"type"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.outBset.kcp,7,t.target.multiple?s:s[0])}}},[s("option",[e._v("none")]),s("option",[e._v("srtp")]),s("option",[e._v("utp")]),s("option",[e._v("wechat-video")]),s("option",[e._v("dtls")]),s("option",[e._v("wireguard")])])]),s("p",[s("b",[e._v("rBSize")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.kcp[5],expression:"outBset.kcp[5]"}],attrs:{name:"readBufferSize",placeholder:"读缓 MB"},domProps:{value:e.outBset.kcp[5]},on:{input:function(t){t.target.composing||e.$set(e.outBset.kcp,5,t.target.value)}}}),s("b",[e._v("wBSize")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outBset.kcp[6],expression:"outBset.kcp[6]"}],attrs:{name:"writeBufferSize",placeholder:"写缓 MB"},domProps:{value:e.outBset.kcp[6]},on:{input:function(t){t.target.composing||e.$set(e.outBset.kcp,6,t.target.value)}}})])]),s("p",{staticClass:"center"},[s("button",{on:{click:e.saveadvanSet}},[e._v("保存")])])])},J=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"tip"},[e._v("* 没有匹配到路由规则的网站默认使用第一个出站协议"),s("br"),e._v("* 即： 代理优先 - 白名单模式 直连优先 - 黑名单模式")])}],F={name:"CompadvanSet",data:function(){return{outBset:this.$root.gConf.outBset}},methods:{saveadvanSet:function(){if(this.outBset.concurrency=Number(this.outBset.concurrency),this.outBset.outborder[0]!=this.outBset.outborder[1]&&this.outBset.routorder[0]!=this.outBset.routorder[1]){for(var e=0,t=["direct","block","proxy"];e<t.length;e++){var s=t[e];-1==this.outBset.outborder.indexOf(s)&&(this.outBset.outborder[2]=s),-1==this.outBset.routorder.indexOf(s)&&(this.outBset.routorder[2]=s)}this.outBset.kcp[0]=Number(this.outBset.kcp[0])||1350,this.outBset.kcp[1]=Number(this.outBset.kcp[1])||50,this.outBset.kcp[2]=Number(this.outBset.kcp[2])||5,this.outBset.kcp[3]=Number(this.outBset.kcp[3])||20,this.outBset.kcp[5]=Number(this.outBset.kcp[5])||2,this.outBset.kcp[6]=Number(this.outBset.kcp[6])||2,this.$root.saveGconf(),this.$root.alertElec("保存成功")}else this.$root.alertElec("出站或路由规则请不要选择相同值")}}},X=F,Z=Object(u["a"])(X,H,J,!1,null,null,null),Q=Z.exports,Y={name:"elecV2Set",data:function(){return{setlists:[{id:"basesSet",text:"基础设置"},{id:"themeSet",text:"主题配色"},{id:"fruleSet",text:"路由分流"},{id:"subrsSet",text:"规则订阅"},{id:"advanSet",text:"进阶设置"}],acTab:"basesSet"}},props:["title"],components:{CompbasesSet:$,CompthemeSet:I,CompfruleSet:L,CompsubrsSet:G,CompadvanSet:Q},methods:{showSet:function(e){this.acTab=e}}},ee=Y,te=Object(u["a"])(ee,k,w,!1,null,null,null),se=te.exports,re={name:"elecV2",data:function(){return{title:"elecV2 网页版",currentpanel:"elecV2Ser"}},components:{cmdPanel:d,elecV2Ser:y,elecV2Set:se},methods:{setShow:function(){"elecV2Ser"==this.currentpanel?this.currentpanel="elecV2Set":this.currentpanel="elecV2Ser"}}},oe=re,ne=Object(u["a"])(oe,r,o,!1,null,null,null);t["a"]=ne.exports},"56d7":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__),D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("cadf"),D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_array_iterator_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__),D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("551c"),D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_4__),D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_object_assign_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("f751"),D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_object_assign_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es6_object_assign_js__WEBPACK_IMPORTED_MODULE_5__),D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es7_promise_finally_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("097d"),D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es7_promise_finally_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(D_phpStudy_PHPTutorial_WWW_elecV2_vue_vueapp_node_modules_core_js_modules_es7_promise_finally_js__WEBPACK_IMPORTED_MODULE_6__),vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("2b0e"),_elecV2_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4831"),_assets_elecV2_css__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("96eb"),_assets_elecV2_css__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_assets_elecV2_css__WEBPACK_IMPORTED_MODULE_9__);vue__WEBPACK_IMPORTED_MODULE_7__["a"].config.productionTip=!0,new vue__WEBPACK_IMPORTED_MODULE_7__["a"]({data:{gConf:{}},render:function(e){return e(_elecV2_vue__WEBPACK_IMPORTED_MODULE_8__["a"])},created:function(){this.gConf=this.getGconf(),this.gConf.evset.activetheme&&this.gConf.theme[this.gConf.evset.activetheme]?this.theme(this.gConf.theme[this.gConf.evset.activetheme].colorsc):this.theme(this.gConf.theme[Object.keys(this.gConf.theme)[0]].colorsc)},methods:{getGconf:function(){var e="";return window.localStorage&&localStorage.locgConf?e=JSON.parse(localStorage.locgConf):(e={log:{loglevel:"warning"},dns:[],evset:{maxSubsers:10,isRandsub:!1},inbound:{sport:1080,hport:1081},theme:{e73Ue:{name:"大海沙滩",colorsc:["#2E3784","#2E0571","#FFCB40","#64AAD0"]},tdxh:{name:"土地玄黄",colorsc:["#e2c275","#c36a2d","#f4f4f4","#C89B40"]},TCXA2:{name:"莫句",colorsc:["#2e1630","#262b60","#e9bb4c","#d3fd3c"]}},serlists:{},group:{},outBset:{tcpfastopen:!0,mux:!0,concurrency:8,outborder:["proxy","direct","block"],routorder:["block","direct","proxy"],kcp:[1350,50,5,20,!1,2,2,"none"],tls:"tls",allowInsecure:!0,domainStrategy:"AsIs"},routing:[],subrules:{}},localStorage.setItem("locgConf",JSON.stringify(e))),e},saveGconf:function(){localStorage.locgConf=JSON.stringify(this.gConf)},putFile:function(e){var t=new Blob([e]),s=document.createElement("a");s.download="config.json",s.href=URL.createObjectURL(t),s.click(),URL.revokeObjectURL(s.href)},getRanStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=t[Math.floor(52*Math.random())];while(e>1)s+=t[Math.floor(62*Math.random())],e--;return s},newElecId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getRanStr();while(this.gConf.group[e]||this.gConf.serlists[e]||this.gConf.subrules[e]||this.gConf.theme[e])e=this.getRanStr();return e},alertElec:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=document.getElementById("alertElec");if(o?o.innerHTML="":(o=document.createElement("div"),o.id="alertElec",document.body.appendChild(o)),r&&!t&&setTimeout("document.getElementById('alertElec').className='hide'",3e3),r||(e+='<span class="alertClose" onclick="cancelAlert()">x</span>'),e="<p>"+e+"</p>",s&&(e+="<div><input name='nmInput'></div>"),o.innerHTML=e,t){var n=document.createElement("div");n.className="cstwoButton",n.addEventListener("click",(function(){this.cancelAlert()}),!1);var a=document.createElement("button");a.setAttribute("onclick","cancelAlert()"),a.innerHTML="取消";var i=document.createElement("button");i.setAttribute("onclick","runAlert(".concat(t,")")),i.innerHTML="确定",n.append(a),n.append(i),o.append(n)}o.className="show"},cancelAlert:function(){document.getElementById("alertElec").className="hide"},runAlert:function runAlert(fn){if("function"==typeof fn){var alertInput=document.querySelector("#alertElec input[name=nmInput]");alertInput?eval(fn(alertInput.value)):eval(fn())}document.getElementById("alertElec").className="hide"},theme:function(e){0==e?e=[this.randChex(125,125,125),this.randChex(125,125,125),this.randChex(),this.randChex()]:1==e?e=["#2E3784","#2E0571","#FFCB40","#64AAD0"]:2==e&&(e=["#e2c275","#c36a2d","#f4f4f4","#C89B40"]);var t="::-webkit-scrollbar-thumb {background-color: ".concat(e[3],"}#winquit {background: #eb261a}#winhide {background: #3CB371}#settingShow {background: #725E82}#winquit:hover, #winhide:hover, #settingShow:hover {box-shadow: 0px 0px 16px ").concat(e[3],"}#left, .csfMenu li:hover, #subrsSetInfo ul li {background-color: ").concat(e[0],"}#left ul li, #infos, .mtitle, .csfMenu, option, input, textarea, select, #alertElec span.alertClose{background: ").concat(e[1],";color: ").concat(e[2],"}#alertElec button, #infos button,.active, #slist .serGroup div span.csCollpser{background: ").concat(e[2]," !important;color: ").concat(e[1]," !important}#cmd,#consoleout{background-color: ").concat(e[2],";color: ").concat(e[0],"}#togglecmd{background: ").concat(e[3],"}#infos input, textarea, .fgf, #infos select, #alertElec input{border: 1px solid ").concat(e[3],";color:").concat(e[2],"}#left ul li.selected,#left ul li:hover{box-shadow: 0px 0px 16px ").concat(e[3],";background: ").concat(e[3],"}input:hover, textarea:hover, select:hover {box-shadow: 0 0 10px ").concat(e[3],"}#conMenu{box-shadow: 0 0 8px ").concat(e[3],"}#conMenu li{background: ").concat(e[2],";color: ").concat(e[3],";border-bottom: 1px solid ").concat(e[0],"}#conMenu li:hover, .serGroup div > span{background: ").concat(e[3],";color: ").concat(e[1],"}#alertElec{background: #fff;color: ").concat(e[3],"}.serGroup{background: rgba(222, 222, 222, 0.3)}.wzborder{border: 1px solid ").concat(e[2],"}.fgfwithword {border-bottom: 2px solid ").concat(e[3],"}.fgfwithword span {background: ").concat(e[1],"}#winquit, #winhide, #settingShow{color: ").concat(e[1],"}#idDrag{color: ").concat(e[2],"}#confipreview, #idrulescont textarea{background-image: -webkit-linear-gradient(top , transparent, transparent 31px,").concat(e[0]," 0)}\n\t\t\t\t/*长高宽*/::-webkit-scrollbar{width: 8px;height: 8px;background: transparent;border-radius: 8px}::-webkit-scrollbar-thumb {border: none;z-index: 9999;-webkit-border-radius: 8px}::-webkit-scrollbar-corner {border-radius: 8px}#left{width: 320px;height: 460px;border-radius:8px 0 0 0}#infos{width: 640px;height: 460px;border-radius: 0 8px 0 0}#cmd{width: 100%;max-width:960px;height: 220px;border-radius: 0 0 8px 8px}#consoleout{width: 100%;height: 180px}#togglecmd{border-radius: 0 0 8px 8px}\n\t\t\t\t"),s=document.getElementById("skin");s?s.innerText=t:(s=document.createElement("style"),s.id="skin",s.type="text/css",s.innerText=t,document.head.appendChild(s))},randChex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=Math.floor(Math.random()*e).toString(16);r.length<2&&(r="0"+r);var o=Math.floor(Math.random()*t).toString(16);o.length<2&&(o="0"+o);var n=Math.floor(Math.random()*s).toString(16);return n.length<2&&(n="0"+n),"#"+r+o+n}}}).$mount("#elecV2")},"96eb":function(e,t,s){}});
//# sourceMappingURL=app.13d9e92e.js.map